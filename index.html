<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¨ ê·€ì—¬ìš´ MBTI í…ŒìŠ¤íŠ¸</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #FF6B9D;
            --secondary: #C44569;
            --accent: #FEC8D8;
            --background: #FFF5F7;
            --text-dark: #2C3E50;
            --text-light: #7F8C8D;
        }

        body {
            font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #FFF5F7 0%, #FFE5EC 100%);
            color: var(--text-dark);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px 20px;
        }

        .card {
            max-width: 800px;
            width: 100%;
            background: white;
            padding: 60px;
            border-radius: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
            animation: fadeIn 0.8s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Home Page */
        .home-title {
            font-size: 3.5rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 20px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: bounce 2s ease-in-out infinite;
        }

        .home-subtitle {
            font-size: 1.3rem;
            color: var(--text-light);
            text-align: center;
            margin-bottom: 50px;
        }

        .feature-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 50px;
        }

        .feature-card {
            text-align: center;
            padding: 30px 20px;
            background: var(--background);
            border-radius: 20px;
            transition: transform 0.3s;
        }

        .feature-card:hover {
            transform: translateY(-10px);
        }

        .feature-emoji {
            font-size: 3rem;
            margin-bottom: 15px;
            animation: pulse 2s ease-in-out infinite;
        }

        .feature-card h3 {
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        .btn {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 20px 50px;
            border: none;
            border-radius: 50px;
            font-size: 1.3rem;
            font-weight: 600;
            cursor: pointer;
            display: block;
            margin: 0 auto;
            box-shadow: 0 10px 30px rgba(255, 107, 157, 0.3);
            transition: all 0.3s;
        }

        .btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(255, 107, 157, 0.4);
        }

        /* Test Page */
        .progress-bar {
            width: 100%;
            height: 12px;
            background: #F0F0F0;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 100%);
            transition: width 0.5s;
        }

        .progress-text {
            text-align: right;
            color: var(--primary);
            font-weight: 600;
            margin-bottom: 40px;
        }

        .question-number {
            display: inline-block;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 40px;
        }

        .option-btn {
            width: 100%;
            background: white;
            border: 3px solid #F0F0F0;
            padding: 25px 30px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 20px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 15px;
            text-align: left;
        }

        .option-btn:hover {
            border-color: var(--accent);
            background: var(--background);
            transform: translateX(10px);
        }

        .option-btn:active {
            transform: scale(0.98);
            border-color: var(--primary);
        }

        .option-emoji {
            font-size: 2.5rem;
            flex-shrink: 0;
        }

        /* Score Bar Styles */
        .score-section {
            margin-bottom: 40px;
        }

        .score-item {
            margin-bottom: 30px;
        }

        .score-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .score-bar-container {
            display: flex;
            align-items: center;
            gap: 10px;
            height: 40px;
        }

        .score-bar {
            flex: 1;
            height: 100%;
            background: #F0F0F0;
            border-radius: 20px;
            overflow: hidden;
            position: relative;
        }

        .score-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 100%);
            transition: width 0.8s ease-out;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 15px;
            color: white;
            font-weight: 700;
        }

        .score-label {
            min-width: 80px;
            text-align: center;
            font-weight: 600;
            color: var(--text-dark);
        }

        .borderline-badge {
            display: inline-block;
            background: linear-gradient(135deg, #FEC8D8 0%, #FFE5EC 100%);
            color: var(--secondary);
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 0.9rem;
            font-weight: 600;
            border: 2px solid var(--accent);
            margin-left: 10px;
        }

        /* Result Page */
        .result-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .result-announcement {
            font-size: 2rem;
            margin-bottom: 30px;
        }

        .result-type-badge {
            display: inline-flex;
            align-items: center;
            gap: 15px;
            padding: 20px 40px;
            border-radius: 50px;
            margin-bottom: 20px;
        }

        .result-emoji {
            font-size: 4rem;
        }

        .result-type {
            font-size: 3rem;
            font-weight: 700;
            color: white;
            letter-spacing: 2px;
        }

        .result-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .result-description {
            font-size: 1.2rem;
            color: var(--text-light);
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .characteristic-item {
            background: var(--background);
            padding: 15px 20px;
            border-radius: 15px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .check-icon {
            color: var(--primary);
            font-weight: 700;
            font-size: 1.2rem;
        }

        .tags-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 30px;
        }

        .tag {
            padding: 12px 20px;
            border-radius: 20px;
            font-size: 0.95rem;
            font-weight: 500;
        }

        .strength-tag {
            background: #E6FFFA;
            color: #047857;
            border: 2px solid #10B981;
        }

        .weakness-tag {
            background: #FFF5F5;
            color: #B91C1C;
            border: 2px solid #EF4444;
        }

        .compatibility-item {
            background: linear-gradient(135deg, var(--background) 0%, white 100%);
            padding: 20px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
            border: 2px solid var(--accent);
            margin-bottom: 15px;
        }

        .compat-emoji {
            font-size: 2.5rem;
        }

        .compat-type {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary);
            min-width: 80px;
        }

        .compat-title {
            color: var(--text-light);
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 50px;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #667EEA 0%, #764BA2 100%);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-secondary:hover {
            transform: translateY(-5px);
        }

        .hidden {
            display: none !important;
        }

        /* Ad Modal Styles */
        .ad-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            animation: fadeIn 0.3s;
        }

        .ad-content {
            background: white;
            padding: 60px 40px;
            border-radius: 30px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            animation: slideUp 0.5s;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .ad-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--primary);
        }

        .ad-description {
            font-size: 1.1rem;
            color: var(--text-light);
            margin-bottom: 30px;
        }

        .ad-countdown {
            font-size: 4rem;
            font-weight: 700;
            color: var(--primary);
            margin: 30px 0;
            animation: pulse 1s ease-in-out infinite;
        }

        .ad-progress-bar {
            width: 100%;
            height: 20px;
            background: #F0F0F0;
            border-radius: 10px;
            overflow: hidden;
            margin: 30px 0;
        }

        .ad-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 100%);
            transition: width 1s linear;
        }

        .premium-unlock-btn {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: white;
            padding: 20px 50px;
            border: none;
            border-radius: 50px;
            font-size: 1.3rem;
            font-weight: 600;
            cursor: pointer;
            display: block;
            margin: 40px auto 0;
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.3);
            transition: all 0.3s;
        }

        .premium-unlock-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(255, 215, 0, 0.4);
        }

        .premium-badge {
            display: inline-block;
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 700;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.3);
        }

        .basic-result {
            text-align: center;
            padding: 40px;
        }

        .unlock-section {
            background: linear-gradient(135deg, var(--background) 0%, white 100%);
            padding: 40px;
            border-radius: 20px;
            margin-top: 40px;
            border: 3px dashed var(--accent);
        }

        .unlock-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 20px;
        }

        .unlock-features {
            text-align: left;
            margin: 30px 0;
        }

        .unlock-feature-item {
            padding: 15px 20px;
            margin-bottom: 10px;
            background: white;
            border-radius: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .unlock-icon {
            font-size: 2rem;
        }

        @media (max-width: 768px) {
            .card {
                padding: 40px 20px;
            }
            .home-title {
                font-size: 2.5rem;
            }
            .question-text {
                font-size: 1.5rem;
            }
            .result-type {
                font-size: 2rem;
            }
            .action-buttons {
                flex-direction: column;
            }
            /* ëª¨ë°”ì¼ì—ì„œë„ ë°ìŠ¤í¬í†±ê³¼ ë™ì¼í•œ ê°€ë¡œ ë ˆì´ì•„ì›ƒ ìœ ì§€ */
            .score-bar-container {
                gap: 5px;
            }
            .score-label {
                min-width: 60px;
                font-size: 0.85rem;
            }
            .score-bar-fill {
                font-size: 0.9rem;
                padding-right: 10px;
            }
            .score-header {
                font-size: 0.9rem;
            }
            .ad-content {
                padding: 40px 30px;
            }
            .ad-title {
                font-size: 1.5rem;
            }
            .ad-countdown {
                font-size: 3rem;
            }
        }
    </style>
</head>
<body>
    <div id="app"></div>

    <script>
        // MBTI Data with 20 questions (5 per dimension) and reverse-keyed items
        const questions = [
            // E/I Questions (5)
            {
                id: 1,
                axis: 'EI',
                question: "ì£¼ë§ì— ì¹œêµ¬ë“¤ì´ ê°‘ìê¸° ë†€ìê³  í•  ë•Œ ë‚˜ëŠ”?",
                options: [
                    { text: "ì¢‹ì•„! ë°”ë¡œ ì¤€ë¹„í•˜ê³  ë‚˜ê°ˆê²Œ!", type: "E", key: 1, emoji: "ğŸ‰" },
                    { text: "ìŒ... ì˜¤ëŠ˜ì€ ì§‘ì—ì„œ ì‰¬ê³  ì‹¶ì€ë°...", type: "I", key: -1, emoji: "ğŸ " }
                ]
            },
            {
                id: 2,
                axis: 'EI',
                question: "íŒŒí‹°ì— ê°”ì„ ë•Œ ë‚˜ëŠ”?",
                options: [
                    { text: "ëª¨ë¥´ëŠ” ì‚¬ëŒë“¤í•œí…Œ ë¨¼ì € ë§ ê±¸ê¸°!", type: "E", key: 1, emoji: "ğŸ¥³" },
                    { text: "ì•„ëŠ” ì‚¬ëŒë“¤ ì˜†ì—ì„œ í¸í•˜ê²Œ ìˆê¸°", type: "I", key: -1, emoji: "ğŸ˜Š" }
                ]
            },
            {
                id: 3,
                axis: 'EI',
                question: "ê°‘ìê¸° ì•½ì†ì´ ì·¨ì†Œëì„ ë•Œ ë‚˜ëŠ”?",
                options: [
                    { text: "ì•„ì‰¬ì›Œ... ë‹¤ë¥¸ ì¹œêµ¬ë¼ë„ ë§Œë‚ ê¹Œ?", type: "E", key: 1, emoji: "â˜€ï¸" },
                    { text: "ì˜¤íˆë ¤ ì¢‹ì•„! í˜¼ìë§Œì˜ ì‹œê°„~", type: "I", key: -1, emoji: "ğŸŒ™" }
                ]
            },
            {
                id: 4,
                axis: 'EI',
                question: "ì—ë„ˆì§€ë¥¼ ì–»ëŠ” ë°©ë²•ì€?",
                options: [
                    { text: "ì‚¬ëŒë“¤ê³¼ í•¨ê»˜ ì‹œê°„ì„ ë³´ë‚´ë©°", type: "E", key: 1, emoji: "ğŸŠ" },
                    { text: "í˜¼ìë§Œì˜ ì¡°ìš©í•œ ì‹œê°„ì„ ê°€ì§€ë©°", type: "I", key: -1, emoji: "ğŸ“š" }
                ]
            },
            {
                id: 5,
                axis: 'EI',
                question: "ìƒˆë¡œìš´ í™˜ê²½ì—ì„œ ë‚˜ëŠ”?",
                options: [
                    { text: "ë¨¼ì € ë‹¤ê°€ê°€ì„œ ì‚¬ëŒë“¤ê³¼ ì¹œí•´ì§€ë ¤ í•´", type: "E", key: 1, emoji: "ğŸ‘‹" },
                    { text: "ì¡°ìš©íˆ ê´€ì°°í•˜ë©° ì²œì²œíˆ ì ì‘í•´", type: "I", key: -1, emoji: "ğŸ‘€" }
                ]
            },
            
            // S/N Questions (5)
            {
                id: 6,
                axis: 'SN',
                question: "ì˜í™”ë¥¼ ë³¼ ë•Œ ë‚˜ëŠ”?",
                options: [
                    { text: "ê·¸ëƒ¥ ì¬ë¯¸ìˆê²Œ ë³´ë©´ ë˜ëŠ” ê±° ì•„ëƒ?", type: "S", key: -1, emoji: "ğŸ¬" },
                    { text: "ìŠ¤í† ë¦¬ì˜ ë³µì„ ê³¼ ì˜ë¯¸ë¥¼ ë¶„ì„í•´", type: "N", key: 1, emoji: "ğŸ”®" }
                ]
            },
            {
                id: 7,
                axis: 'SN',
                question: "ìƒˆë¡œìš´ ê²ƒì„ ë°°ìš¸ ë•Œ ë‚˜ëŠ”?",
                options: [
                    { text: "ì¼ë‹¨ ì‹¤ì „ì—ì„œ í•´ë³´ë©´ì„œ ë°°ì›Œ", type: "S", key: -1, emoji: "âš¡" },
                    { text: "ì›ë¦¬ì™€ ì´ë¡ ë¶€í„° ì´í•´í•˜ê³  ì‹¶ì–´", type: "N", key: 1, emoji: "ğŸ“š" }
                ]
            },
            {
                id: 8,
                axis: 'SN',
                question: "ì±…ì„ ì½ì„ ë•Œ ë‚˜ëŠ”?",
                options: [
                    { text: "ìˆëŠ” ê·¸ëŒ€ë¡œ ë‚´ìš©ì„ ë°›ì•„ë“¤ì—¬", type: "S", key: -1, emoji: "ğŸ“„" },
                    { text: "í–‰ê°„ì˜ ì˜ë¯¸ì™€ ìƒì§•ì„ ì°¾ì•„ë´", type: "N", key: 1, emoji: "ğŸ“–" }
                ]
            },
            {
                id: 9,
                axis: 'SN',
                question: "ëŒ€í™”í•  ë•Œ ë‚˜ëŠ”?",
                options: [
                    { text: "êµ¬ì²´ì ì¸ ì‚¬ì‹¤ê³¼ ê²½í—˜ ìœ„ì£¼ë¡œ", type: "S", key: -1, emoji: "ğŸ“Š" },
                    { text: "ê°€ëŠ¥ì„±ê³¼ ì˜ë¯¸ì— ëŒ€í•´ ì´ì•¼ê¸°í•´", type: "N", key: 1, emoji: "ğŸ’­" }
                ]
            },
            {
                id: 10,
                axis: 'SN',
                question: "ë¬¸ì œë¥¼ í•´ê²°í•  ë•Œ?",
                options: [
                    { text: "ê²€ì¦ëœ ë°©ë²•ì„ ë”°ë¼ê°€", type: "S", key: -1, emoji: "âœ…" },
                    { text: "ìƒˆë¡œìš´ ë°©ë²•ì„ ì‹œë„í•´ë´", type: "N", key: 1, emoji: "ğŸ’¡" }
                ]
            },

            // T/F Questions (5)
            {
                id: 11,
                axis: 'TF',
                question: "ì¹œêµ¬ê°€ ê³ ë¯¼ ìƒë‹´ì„ í•  ë•Œ ë‚˜ëŠ”?",
                options: [
                    { text: "ê·¸ëŸ´ ë• ì´ë ‡ê²Œ í•˜ë©´ í•´ê²°ë¼!", type: "T", key: 1, emoji: "ğŸ’¡" },
                    { text: "ë„ˆë¬´ í˜ë“¤ì—ˆê² ë‹¤... ê´œì°®ì•„?", type: "F", key: -1, emoji: "ğŸ’•" }
                ]
            },
            {
                id: 12,
                axis: 'TF',
                question: "ì˜ê²¬ì´ ë‹¤ë¥¸ ì¹œêµ¬ì™€ ëŒ€í™”í•  ë•Œ ë‚˜ëŠ”?",
                options: [
                    { text: "ë…¼ë¦¬ì ìœ¼ë¡œ ì„¤ë“í•˜ë ¤ê³  í•´", type: "T", key: 1, emoji: "ğŸ§ " },
                    { text: "ìƒëŒ€ë°© ê¸°ë¶„ì„ ë¨¼ì € ìƒê°í•´", type: "F", key: -1, emoji: "ğŸŒ¸" }
                ]
            },
            {
                id: 13,
                axis: 'TF',
                question: "ì¹œêµ¬ê°€ ì‹¤ìˆ˜í–ˆì„ ë•Œ ë‚˜ëŠ”?",
                options: [
                    { text: "ë‹¤ìŒì—” ì´ë ‡ê²Œ í•˜ë©´ ì•ˆ ê·¸ëŸ´ ê±°ì•¼", type: "T", key: 1, emoji: "ğŸ‘¨â€ğŸ«" },
                    { text: "ê´œì°®ì•„, ëˆ„êµ¬ë‚˜ ì‹¤ìˆ˜í•  ìˆ˜ ìˆì–´", type: "F", key: -1, emoji: "ğŸ¤—" }
                ]
            },
            {
                id: 14,
                axis: 'TF',
                question: "ê²°ì •ì„ ë‚´ë¦´ ë•Œ?",
                options: [
                    { text: "ê°ê´€ì ì¸ ì‚¬ì‹¤ê³¼ ë…¼ë¦¬ë¥¼ ë”°ì ¸", type: "T", key: 1, emoji: "ğŸ“" },
                    { text: "ì‚¬ëŒë“¤ì˜ ê°ì •ê³¼ ê´€ê³„ë¥¼ ê³ ë ¤í•´", type: "F", key: -1, emoji: "â¤ï¸" }
                ]
            },
            {
                id: 15,
                axis: 'TF',
                question: "ë¹„íŒì„ ë°›ì•˜ì„ ë•Œ?",
                options: [
                    { text: "í•©ë¦¬ì ì´ë©´ ë°›ì•„ë“¤ì´ê³  ê°œì„ í•´", type: "T", key: 1, emoji: "ğŸ¯" },
                    { text: "ì™œ ê·¸ëŸ° ë§ì„ í–ˆì„ê¹Œ ì‹ ê²½ ì“°ì—¬", type: "F", key: -1, emoji: "ğŸ˜¢" }
                ]
            },

            // J/P Questions (5)
            {
                id: 16,
                axis: 'JP',
                question: "ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•  ë•Œ ë‚˜ëŠ”?",
                options: [
                    { text: "ì¼ë‹¨ ê³„íšë¶€í„° ì„¸ë°€í•˜ê²Œ ì§œë³´ì!", type: "J", key: 1, emoji: "ğŸ“‹" },
                    { text: "ëŒ€ì¶© ì‹œì‘í•˜ë©´ì„œ ìƒê°í•´ë³´ë©´ ë˜ì§€!", type: "P", key: -1, emoji: "ğŸ¨" }
                ]
            },
            {
                id: 17,
                axis: 'JP',
                question: "ì—¬í–‰ì„ ê³„íší•  ë•Œ ë‚˜ëŠ”?",
                options: [
                    { text: "ì¼ì •í‘œ ë§Œë“¤ê³  ë§›ì§‘ ë¦¬ìŠ¤íŠ¸ ì •ë¦¬!", type: "J", key: 1, emoji: "âœˆï¸" },
                    { text: "ê·¸ëƒ¥ ê°€ì„œ ë°œê¸¸ ë‹¿ëŠ” ëŒ€ë¡œ~", type: "P", key: -1, emoji: "ğŸ—ºï¸" }
                ]
            },
            {
                id: 18,
                axis: 'JP',
                question: "ê³¼ì œë‚˜ ì—…ë¬´ë¥¼ í•  ë•Œ ë‚˜ëŠ”?",
                options: [
                    { text: "ë¯¸ë¦¬ë¯¸ë¦¬ ê³„íšì ìœ¼ë¡œ ëë‚´ê¸°", type: "J", key: 1, emoji: "âœ…" },
                    { text: "ë§ˆê° ì„ë°•í•  ë•Œ ì§‘ì¤‘ë ¥ í­ë°œ!", type: "P", key: -1, emoji: "ğŸ”¥" }
                ]
            },
            {
                id: 19,
                axis: 'JP',
                question: "ì£¼ë§ ê³„íšì€?",
                options: [
                    { text: "ë¯¸ë¦¬ ì§œë†“ê³  ê·¸ëŒ€ë¡œ ì‹¤í–‰í•´", type: "J", key: 1, emoji: "ğŸ“…" },
                    { text: "ê·¸ë•Œê·¸ë•Œ ê¸°ë¶„ì— ë”°ë¼ ì •í•´", type: "P", key: -1, emoji: "ğŸ²" }
                ]
            },
            {
                id: 20,
                axis: 'JP',
                question: "ë°© ì •ë¦¬ëŠ”?",
                options: [
                    { text: "ê·œì¹™ì ìœ¼ë¡œ ê¹”ë”í•˜ê²Œ ìœ ì§€í•´", type: "J", key: 1, emoji: "ğŸ§¹" },
                    { text: "í•„ìš”í•  ë•Œë§Œ ì •ë¦¬í•´", type: "P", key: -1, emoji: "ğŸ“¦" }
                ]
            }
        ];

        const mbtiResults = {
            INTJ: {
                type: 'INTJ', title: 'ì „ëµê°€', emoji: 'ğŸ§™â€â™‚ï¸', color: '#6B46C1',
                description: 'ë…ì°½ì ì´ê³  ì „ëµì ì¸ ì‚¬ê³ ë¥¼ ê°€ì§„ ì™„ë²½ì£¼ì˜ì',
                characteristics: ['ë…¼ë¦¬ì ì´ê³  ë¶„ì„ì ', 'ë…ë¦½ì ì´ê³  ìê¸°ì£¼ë„ì ', 'ì¥ê¸°ì  ë¹„ì „ ì¶”êµ¬', 'ì™„ë²½ì£¼ì˜ ì„±í–¥'],
                strengths: ['ì „ëµì  ì‚¬ê³ ', 'ë…ì°½ì„±', 'ìê¸°í™•ì‹ ', 'ê²°ë‹¨ë ¥'],
                weaknesses: ['ê°ì •í‘œí˜„ ì„œíˆ´', 'ë¹„íŒì ', 'ì™„ë²½ì£¼ì˜', 'íƒ€í˜‘ ì–´ë ¤ì›€'],
                compatibility: ['ENFP', 'ENTP', 'INFJ']
            },
            INTP: {
                type: 'INTP', title: 'ë…¼ë¦¬ìˆ ì‚¬', emoji: 'ğŸ”¬', color: '#4299E1',
                description: 'í˜¸ê¸°ì‹¬ ë§ê³  í˜ì‹ ì ì¸ ë°œëª…ê°€',
                characteristics: ['ë…¼ë¦¬ì ì´ê³  ê°ê´€ì ', 'í˜¸ê¸°ì‹¬ì´ ë§ìŒ', 'ë…ì°½ì ì¸ ì•„ì´ë””ì–´', 'ë¶„ì„ì  ì‚¬ê³ '],
                strengths: ['ë…¼ë¦¬ì  ë¶„ì„', 'ì°½ì˜ì„±', 'ê°ê´€ì„±', 'ë¬¸ì œí•´ê²°ë ¥'],
                weaknesses: ['ì‚°ë§Œí•¨', 'ê°ì • ë¬´ì‹œ', 'ì‹¤í–‰ë ¥ ë¶€ì¡±', 'ì‚¬íšŒì„± ë¶€ì¡±'],
                compatibility: ['ENTJ', 'ESTJ', 'INFJ']
            },
            ENTJ: {
                type: 'ENTJ', title: 'í†µì†”ì', emoji: 'ğŸ‘‘', color: '#D53F8C',
                description: 'ëŒ€ë‹´í•˜ê³  ìƒìƒë ¥ì´ í’ë¶€í•œ ë¦¬ë”',
                characteristics: ['ì¹´ë¦¬ìŠ¤ë§ˆ ìˆëŠ” ë¦¬ë”ì‹­', 'íš¨ìœ¨ì„± ì¶”êµ¬', 'ëª©í‘œ ì§€í–¥ì ', 'ê²°ë‹¨ë ¥ ìˆìŒ'],
                strengths: ['ë¦¬ë”ì‹­', 'ì „ëµì  ì‚¬ê³ ', 'íš¨ìœ¨ì„±', 'ìì‹ ê°'],
                weaknesses: ['ê°•ì••ì ', 'ê°ì • ë¬´ì‹œ', 'ì°¸ì„ì„± ë¶€ì¡±', 'ë¹„íŒì '],
                compatibility: ['INTP', 'INFP', 'INTJ']
            },
            ENTP: {
                type: 'ENTP', title: 'ë³€ë¡ ê°€', emoji: 'ğŸ­', color: '#ED8936',
                description: 'ì˜ë¦¬í•˜ê³  í˜¸ê¸°ì‹¬ ë§ì€ í† ë¡ ê°€',
                characteristics: ['ì¬ì¹˜ìˆê³  ë˜‘ë˜‘í•¨', 'í† ë¡ ì„ ì¦ê¹€', 'í˜ì‹ ì ì¸ ì‚¬ê³ ', 'ë„ì „ì '],
                strengths: ['ì°½ì˜ì„±', 'ë…¼ë¦¬ë ¥', 'ì ì‘ë ¥', 'ì—´ì •'],
                weaknesses: ['ë…¼ìŸì ', 'ì§‘ì¤‘ë ¥ ë¶€ì¡±', 'ê·œì¹™ ë¬´ì‹œ', 'ë¯¼ê°ì„± ë¶€ì¡±'],
                compatibility: ['INFJ', 'INTJ', 'ENFP']
            },
            INFJ: {
                type: 'INFJ', title: 'ì˜¹í˜¸ì', emoji: 'ğŸ¦„', color: '#38B2AC',
                description: 'ì´ìƒì£¼ì˜ì ì´ê³  ì›ì¹™ì£¼ì˜ì ì¸ ì„ êµ¬ì',
                characteristics: ['ì´ìƒì£¼ì˜ì ', 'í†µì°°ë ¥ì´ ë›°ì–´ë‚¨', 'í—Œì‹ ì ', 'ì›ì¹™ì£¼ì˜'],
                strengths: ['í†µì°°ë ¥', 'ì°½ì˜ì„±', 'í—Œì‹ ', 'ì´ìƒì£¼ì˜'],
                weaknesses: ['ì™„ë²½ì£¼ì˜', 'ì˜ˆë¯¼í•¨', 'ë²ˆì•„ì›ƒ', 'ë¹„í˜„ì‹¤ì '],
                compatibility: ['ENFP', 'ENTP', 'INTJ']
            },
            INFP: {
                type: 'INFP', title: 'ì¤‘ì¬ì', emoji: 'ğŸŒˆ', color: '#F687B3',
                description: 'ì´ìƒì£¼ì˜ì ì´ê³  ì¶©ì„±ìŠ¤ëŸ¬ìš´ ë‚­ë§Œì£¼ì˜ì',
                characteristics: ['ì´ìƒì£¼ì˜ì ', 'ì°½ì˜ì ', 'ê³µê° ëŠ¥ë ¥ ë›°ì–´ë‚¨', 'ê°€ì¹˜ ì§€í–¥ì '],
                strengths: ['ì°½ì˜ì„±', 'ê³µê° ëŠ¥ë ¥', 'ì´ìƒì£¼ì˜', 'ì¶©ì„±ì‹¬'],
                weaknesses: ['ë¹„í˜„ì‹¤ì ', 'ê³¼ë„í•œ ì´ìƒí™”', 'ìê¸°ë¹„íŒ', 'ìŠ¤íŠ¸ë ˆìŠ¤ ì·¨ì•½'],
                compatibility: ['ENFJ', 'ENTJ', 'INFJ']
            },
            ENFJ: {
                type: 'ENFJ', title: 'ì„ ë„ì', emoji: 'âœ¨', color: '#48BB78',
                description: 'ì¹´ë¦¬ìŠ¤ë§ˆ ìˆê³  ì˜ê°ì„ ì£¼ëŠ” ë¦¬ë”',
                characteristics: ['íƒ€ì¸ ì§€í–¥ì ', 'ì¹´ë¦¬ìŠ¤ë§ˆ', 'ì—´ì •ì ', 'ì¡°í™” ì¶”êµ¬'],
                strengths: ['ë¦¬ë”ì‹­', 'ê³µê° ëŠ¥ë ¥', 'ì†Œí†µë ¥', 'ì—´ì •'],
                weaknesses: ['ì§€ë‚˜ì¹œ í¬ìƒ', 'íƒ€ì¸ ì˜ì¡´', 'ë¹„íŒ ë¯¼ê°', 'ê²°ì • ì–´ë ¤ì›€'],
                compatibility: ['INFP', 'ISFP', 'ENFP']
            },
            ENFP: {
                type: 'ENFP', title: 'í™œë™ê°€', emoji: 'ğŸª', color: '#F6AD55',
                description: 'ì—´ì •ì ì´ê³  ì°½ì˜ì ì¸ ììœ ë¡œìš´ ì˜í˜¼',
                characteristics: ['ì—´ì •ì ', 'ì°½ì˜ì ', 'ì‚¬êµì ', 'í˜¸ê¸°ì‹¬ ë§ìŒ'],
                strengths: ['ì°½ì˜ì„±', 'ì—´ì •', 'ì†Œí†µë ¥', 'ë‚™ê´€ì„±'],
                weaknesses: ['ì§‘ì¤‘ë ¥ ë¶€ì¡±', 'ê³¼ë„í•œ ë‚™ê´€', 'ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬', 'ì‹¤í–‰ë ¥ ë¶€ì¡±'],
                compatibility: ['INTJ', 'INFJ', 'ENFJ']
            },
            ISTJ: {
                type: 'ISTJ', title: 'í˜„ì‹¤ì£¼ì˜ì', emoji: 'ğŸ“Š', color: '#2C5282',
                description: 'ì‚¬ì‹¤ì ì´ê³  ì±…ì„ê° ê°•í•œ ì‹¤ìš©ì£¼ì˜ì',
                characteristics: ['ì±…ì„ê° ê°•í•¨', 'ì¡°ì§ì ', 'í˜„ì‹¤ì ', 'ì‹ ë¢°í•  ìˆ˜ ìˆìŒ'],
                strengths: ['ì±…ì„ê°', 'ì¡°ì§ë ¥', 'ì‹ ë¢°ì„±', 'ê°ê´€ì„±'],
                weaknesses: ['ìœµí†µì„± ë¶€ì¡±', 'ë³´ìˆ˜ì ', 'ê°ì • í‘œí˜„ ì„œíˆ´', 'ë³€í™” ê±°ë¶€'],
                compatibility: ['ESFP', 'ESTP', 'ISFJ']
            },
            ISFJ: {
                type: 'ISFJ', title: 'ìˆ˜í˜¸ì', emoji: 'ğŸ›¡ï¸', color: '#5A67D8',
                description: 'í—Œì‹ ì ì´ê³  ë”°ëœ»í•œ ë³´í˜¸ì',
                characteristics: ['í—Œì‹ ì ', 'ì±…ì„ê° ê°•í•¨', 'ì„¸ì‹¬í•¨', 'ì¡°í™” ì¶”êµ¬'],
                strengths: ['í—Œì‹ ', 'ì±…ì„ê°', 'ì„¸ì‹¬í•¨', 'ì§€ì›'],
                weaknesses: ['ìê¸°ì£¼ì¥ ë¶€ì¡±', 'ë³€í™” ê±°ë¶€', 'ê³¼ë„í•œ í¬ìƒ', 'ì™„ë²½ì£¼ì˜'],
                compatibility: ['ESFP', 'ESTP', 'ISTJ']
            },
            ESTJ: {
                type: 'ESTJ', title: 'ê²½ì˜ì', emoji: 'ğŸ“ˆ', color: '#C05621',
                description: 'ë›°ì–´ë‚œ ì¡°ì§ë ¥ì„ ê°€ì§„ ê´€ë¦¬ì',
                characteristics: ['ì¡°ì§ì ', 'ì‹¤ìš©ì ', 'ì±…ì„ê°', 'ê²°ë‹¨ë ¥'],
                strengths: ['ì¡°ì§ë ¥', 'ì‹¤í–‰ë ¥', 'ì±…ì„ê°', 'íš¨ìœ¨ì„±'],
                weaknesses: ['ìœµí†µì„± ë¶€ì¡±', 'ê³ ì§‘', 'ê°ì • ë¬´ì‹œ', 'ë¹„íŒì '],
                compatibility: ['ISFP', 'ISTP', 'INTP']
            },
            ESFJ: {
                type: 'ESFJ', title: 'ì§‘ì •ê´€', emoji: 'ğŸ¤', color: '#DD6B20',
                description: 'ì‚¬êµì ì´ê³  í˜‘ì¡°ì ì¸ ì¡°ë ¥ì',
                characteristics: ['ì‚¬êµì ', 'í˜‘ì¡°ì ', 'í—Œì‹ ì ', 'ì¡°í™” ì¶”êµ¬'],
                strengths: ['ì‚¬êµì„±', 'í˜‘ì¡°', 'ì±…ì„ê°', 'ë°°ë ¤'],
                weaknesses: ['ë¹„íŒ ë¯¼ê°', 'íƒ€ì¸ ì˜ì¡´', 'ë³€í™” ê±°ë¶€', 'ì£¼ë„ì„± ë¶€ì¡±'],
                compatibility: ['ISFP', 'ISTP', 'ISTJ']
            },
            ISTP: {
                type: 'ISTP', title: 'ì¥ì¸', emoji: 'ğŸ”§', color: '#2D3748',
                description: 'ëŒ€ë‹´í•˜ê³  ì‹¤ìš©ì ì¸ ì‹¤í—˜ê°€',
                characteristics: ['ì‹¤ìš©ì ', 'ë…¼ë¦¬ì ', 'ë…ë¦½ì ', 'ìœµí†µì„±'],
                strengths: ['ë¬¸ì œí•´ê²°', 'ë…¼ë¦¬ì„±', 'ì ì‘ë ¥', 'ì‹¤ìš©ì„±'],
                weaknesses: ['ê°ì • í‘œí˜„ ì„œíˆ´', 'ë¬´ê´€ì‹¬', 'ì±…ì„íšŒí”¼', 'ê³„íšì„± ë¶€ì¡±'],
                compatibility: ['ESFJ', 'ESTJ', 'ISFP']
            },
            ISFP: {
                type: 'ISFP', title: 'ëª¨í—˜ê°€', emoji: 'ğŸ¨', color: '#9F7AEA',
                description: 'ìœ ì—°í•˜ê³  ë§¤ë ¥ì ì¸ ì˜ˆìˆ ê°€',
                characteristics: ['ì˜ˆìˆ ì ', 'ìœ ì—°í•¨', 'ê°ìˆ˜ì„±', 'ììœ ë¡œì›€'],
                strengths: ['ì°½ì˜ì„±', 'ê°ìˆ˜ì„±', 'ìœ ì—°ì„±', 'ì‹¬ë¯¸ì•ˆ'],
                weaknesses: ['ê³„íšì„± ë¶€ì¡±', 'ê²½ìŸ íšŒí”¼', 'ìê¸°ì£¼ì¥ ì•½í•¨', 'ì˜ˆë¯¼í•¨'],
                compatibility: ['ESFJ', 'ESTJ', 'ISTP']
            },
            ESTP: {
                type: 'ESTP', title: 'ì‚¬ì—…ê°€', emoji: 'âš¡', color: '#E53E3E',
                description: 'ì—ë„ˆì§€ ë„˜ì¹˜ëŠ” ëª¨í—˜ê°€',
                characteristics: ['í™œë™ì ', 'ëŒ€ë‹´í•¨', 'ì‹¤ìš©ì ', 'ìˆœë°œë ¥'],
                strengths: ['ì‹¤í–‰ë ¥', 'ì ì‘ë ¥', 'ì‚¬êµì„±', 'í˜„ì‹¤ê°ê°'],
                weaknesses: ['ê³„íšì„± ë¶€ì¡±', 'ì¶©ë™ì ', 'ìœ„í—˜ ê°ìˆ˜', 'ì¸ë‚´ì‹¬ ë¶€ì¡±'],
                compatibility: ['ISFJ', 'ISTJ', 'ESFP']
            },
            ESFP: {
                type: 'ESFP', title: 'ì—°ì˜ˆì¸', emoji: 'ğŸ‰', color: '#F56565',
                description: 'ì¦‰í¥ì ì´ê³  í™œê¸°ì°¬ ì—”í„°í…Œì´ë„ˆ',
                characteristics: ['ì‚¬êµì ', 'ì¦‰í¥ì ', 'í™œë°œí•¨', 'ë‚™ì²œì '],
                strengths: ['ì‚¬êµì„±', 'ë‚™ê´€ì„±', 'ì¦‰í¥ì„±', 'í™œë ¥'],
                weaknesses: ['ê³„íšì„± ë¶€ì¡±', 'ì§‘ì¤‘ë ¥ ë¶€ì¡±', 'ê°ˆë“± íšŒí”¼', 'ì¥ê¸° ëª©í‘œ ì•½í•¨'],
                compatibility: ['ISFJ', 'ISTJ', 'ESTP']
            }
        };

        // App State
        let currentPage = 'home';
        let currentQuestion = 0;
        let answers = [];
        let scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
        let isPremium = false;
        let adCountdown = 15;

        // Calculate MBTI with scores
        function calculateMBTI(userAnswers) {
            // Reset scores
            scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
            
            // Calculate scores with reverse-keyed items
            userAnswers.forEach((answer, index) => {
                const question = questions[index];
                const option = question.options.find(opt => opt.type === answer);
                if (option) {
                    scores[answer] += option.key;
                }
            });
            
            // Determine type
            const mbtiType = (
                (scores.E >= scores.I ? 'E' : 'I') +
                (scores.N >= scores.S ? 'N' : 'S') +
                (scores.T >= scores.F ? 'T' : 'F') +
                (scores.J >= scores.P ? 'J' : 'P')
            );
            
            return mbtiType;
        }

        // Get percentage for each dimension
        function getPercentages() {
            return {
                E: Math.round((scores.E / (scores.E + Math.abs(scores.I))) * 100) || 50,
                I: Math.round((Math.abs(scores.I) / (scores.E + Math.abs(scores.I))) * 100) || 50,
                S: Math.round((Math.abs(scores.S) / (Math.abs(scores.S) + scores.N)) * 100) || 50,
                N: Math.round((scores.N / (Math.abs(scores.S) + scores.N)) * 100) || 50,
                T: Math.round((scores.T / (scores.T + Math.abs(scores.F))) * 100) || 50,
                F: Math.round((Math.abs(scores.F) / (scores.T + Math.abs(scores.F))) * 100) || 50,
                J: Math.round((scores.J / (scores.J + Math.abs(scores.P))) * 100) || 50,
                P: Math.round((Math.abs(scores.P) / (scores.J + Math.abs(scores.P))) * 100) || 50
            };
        }

        // Check if borderline (within 10% difference)
        function isBorderline(type1Percent, type2Percent) {
            return Math.abs(type1Percent - type2Percent) <= 20;
        }

        // Render Functions
        function renderHome() {
            return `
                <div class="card">
                    <h1 class="home-title">ğŸ¨ ê·€ì—¬ìš´ MBTI í…ŒìŠ¤íŠ¸ âœ¨</h1>
                    <p class="home-subtitle">ë‚˜ì˜ ì„±ê²© ìœ í˜•ì„ ì¬ë¯¸ìˆê²Œ ì•Œì•„ë³´ì„¸ìš”!</p>
                    
                    <div class="feature-cards">
                        <div class="feature-card">
                            <div class="feature-emoji">âš¡</div>
                            <h3>ë¹ ë¥¸ í…ŒìŠ¤íŠ¸</h3>
                            <p>20ê°œ ì§ˆë¬¸ìœ¼ë¡œ<br/>5ë¶„ ì™„ì„±!</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-emoji">ğŸ¯</div>
                            <h3>ì •í™•í•œ ë¶„ì„</h3>
                            <p>16ê°€ì§€ ìœ í˜•ì˜<br/>ìƒì„¸í•œ ì„¤ëª…</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-emoji">ğŸ’•</div>
                            <h3>ê¶í•© ì²´í¬</h3>
                            <p>ë‚˜ì™€ ì˜ ë§ëŠ”<br/>ìœ í˜• ì°¾ê¸°</p>
                        </div>
                    </div>

                    <button class="btn" onclick="startTest()">
                        í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸° ğŸš€
                    </button>
                </div>
            `;
        }

        function renderTest() {
            const question = questions[currentQuestion];
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            
            return `
                <div class="card">
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${progress}%"></div>
                    </div>
                    <div class="progress-text">${currentQuestion + 1} / ${questions.length}</div>
                    
                    <div class="question-number">Q${currentQuestion + 1}</div>
                    <h2 class="question-text">${question.question}</h2>
                    
                    <div>
                        ${question.options.map((option) => `
                            <button class="option-btn" onclick="selectAnswer('${option.type}')">
                                <span class="option-emoji">${option.emoji}</span>
                                <span>${option.text}</span>
                            </button>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function renderResult() {
            const mbtiType = calculateMBTI(answers);
            const result = mbtiResults[mbtiType];
            
            if (!isPremium) {
                return renderBasicResult(mbtiType, result);
            } else {
                return renderPremiumResult(mbtiType, result);
            }
        }

        function renderBasicResult(mbtiType, result) {
            return `
                <div class="card">
                    <div class="basic-result">
                        <h1 class="result-announcement">ğŸ‰ ë‹¹ì‹ ì€...</h1>
                        <div class="result-type-badge" style="background: ${result.color}">
                            <span class="result-emoji">${result.emoji}</span>
                            <span class="result-type">${mbtiType}</span>
                        </div>
                        <h2 class="result-title">${result.title}</h2>
                        <p class="result-description">${result.description}</p>
                    </div>

                    <div class="unlock-section">
                        <h3 class="unlock-title">ğŸ”’ ë” ìì„¸í•œ ê²°ê³¼ ë³´ê¸°</h3>
                        <p style="color: var(--text-light); margin-bottom: 20px;">
                            15ì´ˆ ê´‘ê³ ë¥¼ ì‹œì²­í•˜ê³  í”„ë¦¬ë¯¸ì—„ ê²°ê³¼ë¥¼ í™•ì¸í•˜ì„¸ìš”!
                        </p>
                        
                        <div class="unlock-features">
                            <div class="unlock-feature-item">
                                <span class="unlock-icon">ğŸ“Š</span>
                                <div>
                                    <strong>ì„±í–¥ ë¶„ì„ ê·¸ë˜í”„</strong>
                                    <p style="font-size: 0.9rem; color: var(--text-light); margin: 0;">ê° ì°¨ì›ë³„ ì •í™•í•œ ì ìˆ˜ í™•ì¸</p>
                                </div>
                            </div>
                            <div class="unlock-feature-item">
                                <span class="unlock-icon">âœ¨</span>
                                <div>
                                    <strong>ìƒì„¸ íŠ¹ì§• ë¶„ì„</strong>
                                    <p style="font-size: 0.9rem; color: var(--text-light); margin: 0;">ë‚˜ì˜ ì„±ê²©ì„ ê¹Šì´ ìˆê²Œ íŒŒì•…</p>
                                </div>
                            </div>
                            <div class="unlock-feature-item">
                                <span class="unlock-icon">ğŸ’ª</span>
                                <div>
                                    <strong>ê°•ì  & ì•½ì </strong>
                                    <p style="font-size: 0.9rem; color: var(--text-light); margin: 0;">ë‚˜ë¥¼ ë°œì „ì‹œí‚¤ëŠ” ë°©ë²•</p>
                                </div>
                            </div>
                            <div class="unlock-feature-item">
                                <span class="unlock-icon">ğŸ’•</span>
                                <div>
                                    <strong>ê¶í•© ë¶„ì„</strong>
                                    <p style="font-size: 0.9rem; color: var(--text-light); margin: 0;">ë‚˜ì™€ ì˜ ë§ëŠ” ìœ í˜• ì°¾ê¸°</p>
                                </div>
                            </div>
                        </div>

                        <button class="premium-unlock-btn" onclick="showAdModal()">
                            ğŸ ê´‘ê³  ë³´ê³  ìƒì„¸ ê²°ê³¼ ë³´ê¸°
                        </button>
                    </div>

                    <div class="action-buttons" style="margin-top: 40px;">
                        <button class="btn-secondary" onclick="shareResult('${mbtiType}')">
                            ê³µìœ í•˜ê¸° ğŸ”—
                        </button>
                        <button class="btn" onclick="restart()">
                            ë‹¤ì‹œ í…ŒìŠ¤íŠ¸í•˜ê¸° ğŸ”„
                        </button>
                    </div>
                </div>
            `;
        }

        function renderPremiumResult(mbtiType, result) {
            const percentages = getPercentages();
            
            // Check borderlines
            const eiTypes = mbtiType[0] === 'E' ? ['E', 'I'] : ['I', 'E'];
            const snTypes = mbtiType[1] === 'S' ? ['S', 'N'] : ['N', 'S'];
            const tfTypes = mbtiType[2] === 'T' ? ['T', 'F'] : ['F', 'T'];
            const jpTypes = mbtiType[3] === 'J' ? ['J', 'P'] : ['P', 'J'];
            
            const borderlines = [];
            if (isBorderline(percentages[eiTypes[0]], percentages[eiTypes[1]])) borderlines.push('E/I');
            if (isBorderline(percentages[snTypes[0]], percentages[snTypes[1]])) borderlines.push('S/N');
            if (isBorderline(percentages[tfTypes[0]], percentages[tfTypes[1]])) borderlines.push('T/F');
            if (isBorderline(percentages[jpTypes[0]], percentages[jpTypes[1]])) borderlines.push('J/P');
            
            return `
                <div class="card">
                    <span class="premium-badge">âœ¨ í”„ë¦¬ë¯¸ì—„ ê²°ê³¼</span>
                    
                    <div class="result-header">
                        <h1 class="result-announcement">ğŸ‰ ë‹¹ì‹ ì€...</h1>
                        <div class="result-type-badge" style="background: ${result.color}">
                            <span class="result-emoji">${result.emoji}</span>
                            <span class="result-type">${result.type}</span>
                        </div>
                        ${borderlines.length > 0 ? `<span class="borderline-badge">ê²½ê³„í˜•: ${borderlines.join(', ')}</span>` : ''}
                        <h2 class="result-title">${result.title}</h2>
                        <p class="result-description">${result.description}</p>
                    </div>

                    <div class="score-section">
                        <h3 class="section-title">ğŸ“Š ì„±í–¥ ë¶„ì„</h3>
                        
                        <div class="score-item">
                            <div class="score-header">
                                <span>ì™¸í–¥í˜•(E)</span>
                                <span>ë‚´í–¥í˜•(I)</span>
                            </div>
                            <div class="score-bar-container">
                                <span class="score-label">${percentages.E}%</span>
                                <div class="score-bar">
                                    <div class="score-bar-fill" style="width: ${percentages.E}%">${percentages.E}%</div>
                                </div>
                                <span class="score-label">${percentages.I}%</span>
                            </div>
                        </div>

                        <div class="score-item">
                            <div class="score-header">
                                <span>ê°ê°í˜•(S)</span>
                                <span>ì§ê´€í˜•(N)</span>
                            </div>
                            <div class="score-bar-container">
                                <span class="score-label">${percentages.S}%</span>
                                <div class="score-bar">
                                    <div class="score-bar-fill" style="width: ${percentages.S}%">${percentages.S}%</div>
                                </div>
                                <span class="score-label">${percentages.N}%</span>
                            </div>
                        </div>

                        <div class="score-item">
                            <div class="score-header">
                                <span>ì‚¬ê³ í˜•(T)</span>
                                <span>ê°ì •í˜•(F)</span>
                            </div>
                            <div class="score-bar-container">
                                <span class="score-label">${percentages.T}%</span>
                                <div class="score-bar">
                                    <div class="score-bar-fill" style="width: ${percentages.T}%">${percentages.T}%</div>
                                </div>
                                <span class="score-label">${percentages.F}%</span>
                            </div>
                        </div>

                        <div class="score-item">
                            <div class="score-header">
                                <span>íŒë‹¨í˜•(J)</span>
                                <span>ì¸ì‹í˜•(P)</span>
                            </div>
                            <div class="score-bar-container">
                                <span class="score-label">${percentages.J}%</span>
                                <div class="score-bar">
                                    <div class="score-bar-fill" style="width: ${percentages.J}%">${percentages.J}%</div>
                                </div>
                                <span class="score-label">${percentages.P}%</span>
                            </div>
                        </div>
                    </div>

                    <div style="margin-bottom: 40px;">
                        <h3 class="section-title">âœ¨ ì£¼ìš” íŠ¹ì§•</h3>
                        ${result.characteristics.map(char => `
                            <div class="characteristic-item">
                                <span class="check-icon">âœ“</span>
                                ${char}
                            </div>
                        `).join('')}
                    </div>

                    <div style="margin-bottom: 40px;">
                        <h3 class="section-title">ğŸ’ª ê°•ì </h3>
                        <div class="tags-container">
                            ${result.strengths.map(s => `
                                <span class="tag strength-tag">${s}</span>
                            `).join('')}
                        </div>
                    </div>

                    <div style="margin-bottom: 40px;">
                        <h3 class="section-title">ğŸ“Œ ì•½ì </h3>
                        <div class="tags-container">
                            ${result.weaknesses.map(w => `
                                <span class="tag weakness-tag">${w}</span>
                            `).join('')}
                        </div>
                    </div>

                    <div style="margin-bottom: 40px;">
                        <h3 class="section-title">ğŸ’• ì˜ ë§ëŠ” ìœ í˜•</h3>
                        ${result.compatibility.map(type => {
                            const compatResult = mbtiResults[type];
                            return `
                                <div class="compatibility-item">
                                    <span class="compat-emoji">${compatResult.emoji}</span>
                                    <span class="compat-type">${type}</span>
                                    <span class="compat-title">${compatResult.title}</span>
                                </div>
                            `;
                        }).join('')}
                    </div>

                    <div class="action-buttons">
                        <button class="btn-secondary" onclick="shareResult('${mbtiType}')">
                            ê³µìœ í•˜ê¸° ğŸ”—
                        </button>
                        <button class="btn" onclick="restart()">
                            ë‹¤ì‹œ í…ŒìŠ¤íŠ¸í•˜ê¸° ğŸ”„
                        </button>
                    </div>
                </div>
            `;
        }

        // App Logic
        function render() {
            const app = document.getElementById('app');
            app.innerHTML = `<div class="container">${
                currentPage === 'home' ? renderHome() :
                currentPage === 'test' ? renderTest() :
                currentPage === 'ad' ? renderAdModal() :
                renderResult()
            }</div>`;
        }

        function renderAdModal() {
            const progress = ((15 - adCountdown) / 15) * 100;
            
            return `
                <div class="ad-modal">
                    <div class="ad-content">
                        <div class="ad-title">ğŸ“º ê´‘ê³  ì‹œì²­ ì¤‘...</div>
                        <p class="ad-description">
                            ${adCountdown > 0 ? 'ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”!' : 'ê´‘ê³  ì‹œì²­ ì™„ë£Œ! ğŸ‰'}
                        </p>
                        
                        ${adCountdown > 0 ? `
                            <div class="ad-countdown">${adCountdown}</div>
                            <div class="ad-progress-bar">
                                <div class="ad-progress-fill" style="width: ${progress}%"></div>
                            </div>
                            <p style="color: var(--text-light); font-size: 0.9rem;">
                                í”„ë¦¬ë¯¸ì—„ ê²°ê³¼ë¥¼ ì¤€ë¹„í•˜ê³  ìˆìŠµë‹ˆë‹¤...
                            </p>
                        ` : `
                            <div style="font-size: 4rem; margin: 30px 0;">âœ…</div>
                            <button class="btn" onclick="unlockPremium()">
                                í”„ë¦¬ë¯¸ì—„ ê²°ê³¼ ë³´ê¸° ğŸ
                            </button>
                        `}
                    </div>
                </div>
            `;
        }

        function showAdModal() {
            currentPage = 'ad';
            adCountdown = 15;
            render();
            startAdCountdown();
        }

        function startAdCountdown() {
            const interval = setInterval(() => {
                adCountdown--;
                
                // Update only countdown number and progress bar (no flicker!)
                const countdownEl = document.querySelector('.ad-countdown');
                const progressEl = document.querySelector('.ad-progress-fill');
                
                if (adCountdown > 0) {
                    // Update countdown number
                    if (countdownEl) countdownEl.textContent = adCountdown;
                    
                    // Update progress bar
                    if (progressEl) {
                        const progress = ((15 - adCountdown) / 15) * 100;
                        progressEl.style.width = progress + '%';
                    }
                } else {
                    // When countdown reaches 0, render completion screen
                    clearInterval(interval);
                    render();
                }
            }, 1000);
        }

        function unlockPremium() {
            isPremium = true;
            currentPage = 'result';
            render();
        }

        function startTest() {
            currentPage = 'test';
            currentQuestion = 0;
            answers = [];
            scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
            render();
        }

        function selectAnswer(type) {
            answers.push(type);
            
            // Add a brief delay to show selection, then move to next question
            setTimeout(() => {
                if (currentQuestion < questions.length - 1) {
                    currentQuestion++;
                    render();
                } else {
                    currentPage = 'result';
                    render();
                }
            }, 200);
        }

        function restart() {
            currentPage = 'home';
            currentQuestion = 0;
            answers = [];
            scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
            isPremium = false;
            adCountdown = 15;
            render();
        }

        function shareResult(mbtiType) {
            const result = mbtiResults[mbtiType];
            const percentages = getPercentages();
            const shareText = `ë‚˜ì˜ MBTIëŠ” ${result.type} - ${result.title}! ${result.emoji}
            
E/I: ${percentages[mbtiType[0]]}%
S/N: ${percentages[mbtiType[1]]}%
T/F: ${percentages[mbtiType[2]]}%
J/P: ${percentages[mbtiType[3]]}%

ê·€ì—¬ìš´ MBTI í…ŒìŠ¤íŠ¸ë¡œ í™•ì¸í•´ë³´ì„¸ìš”!`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'ê·€ì—¬ìš´ MBTI í…ŒìŠ¤íŠ¸',
                    text: shareText
                }).catch(() => {});
            } else {
                navigator.clipboard.writeText(shareText);
                alert('ê²°ê³¼ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‰');
            }
        }

        // Initialize
        render();
    </script>
</body>
</html>