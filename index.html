<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="google-adsense-account" content="ca-pub-1642749702806306">
    <meta name="description" content="Ï†ïÌôïÎèÑ ÎÜíÏùÄ MBTI ÏÑ±Í≤© Ïú†Ìòï ÌÖåÏä§Ìä∏. 25Í∞ÄÏßÄ ÏßàÎ¨∏ÏúºÎ°ú 3Ï†ê Ï≤ôÎèÑ Î∂ÑÏÑù. 16Í∞ÄÏßÄ ÏÑ±Í≤© Ïú†Ìòï(INTJ, INFP, ENFP Îì±)Ïùò ÏÉÅÏÑ∏ ÌäπÏßï, Í∞ïÏ†ê, ÏïΩÏ†ê, Í∂ÅÌï© Î∂ÑÏÑù. Î¨¥Î£å Ïò®ÎùºÏù∏ Ïã¨Î¶¨ ÌÖåÏä§Ìä∏.">
    <title>üé® Í∑ÄÏó¨Ïö¥ MBTI ÌÖåÏä§Ìä∏</title>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1642749702806306"
        crossorigin="anonymous"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #FF6B9D;
            --secondary: #C44569;
            --accent: #FEC8D8;
            --background: #FFF5F7;
            --text-dark: #2C3E50;
            --text-light: #7F8C8D;
            --neutral: #9CA3AF;
        }

        /* Updated Home Screen Styles - Glassmorphism & At-a-Glance */
        body {
            font-family: 'Pretendard', 'Noto Sans KR', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #FF9A9E 0%, #FECFEF 100%);
            color: var(--text-dark);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
            -webkit-text-size-adjust: 100%;
        }

        /* Animated Background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                radial-gradient(2px 2px at 20% 30%, white, transparent),
                radial-gradient(2px 2px at 60% 70%, white, transparent),
                radial-gradient(1px 1px at 50% 50%, white, transparent),
                radial-gradient(2.5px 2.5px at 80% 10%, white, transparent),
                radial-gradient(1px 1px at 33% 80%, white, transparent);
            background-size: 200% 200%;
            animation: twinkle 10s ease-in-out infinite;
            opacity: 0.6;
            pointer-events: none;
            z-index: -1;
        }

        @keyframes twinkle {

            0%,
            100% {
                opacity: 0.6;
            }

            50% {
                opacity: 1;
            }
        }

        .container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        /* Glassmorphism Card */
        .glass-card {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 255, 255, 0.6);
            padding: 3rem 2rem;
            border-radius: 40px;
            box-shadow: 0 8px 32px 0 rgba(255, 105, 180, 0.2), inset 0 0 60px rgba(255, 255, 255, 0.3);
            width: 100%;
            max-width: 800px;
            animation: fadeIn 0.8s ease-out;
        }

        /* Compatibility for existing classes overrides */
        .card {
            /* Inherit mostly from glass-card for home, but kept for legacy pages if needed */
            max-width: 800px;
            width: 100%;
            background: rgba(255, 255, 255, 0.9);
            padding: 40px;
            border-radius: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
            animation: fadeIn 0.8s ease-out;
            position: relative;
        }

        .home-header {
            text-align: center;
            margin-bottom: 2.5rem;
        }

        .logo-emoji {
            font-size: 4rem;
            margin-bottom: 0.5rem;
            display: block;
            animation: float 3s ease-in-out infinite;
        }

        .home-title {
            color: white;
            font-size: 2.2rem;
            margin-bottom: 0.5rem;
            font-weight: 800;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            background: linear-gradient(135deg, #fff 0%, #fff0f5 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .home-subtitle {
            color: rgba(255, 255, 255, 0.95);
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 2rem;
        }

        /* Action Grid Layout */
        .action-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
        }

        .action-card {
            background: rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.6);
            padding: 1.8rem;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.4s;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .action-card:hover {
            transform: translateY(-8px) scale(1.02);
            background: rgba(255, 255, 255, 0.6);
            box-shadow: 0 15px 30px rgba(255, 105, 180, 0.2);
        }

        .action-icon {
            font-size: 2.5rem;
            margin-bottom: 0.8rem;
        }

        .action-card h3 {
            font-size: 1.2rem;
            font-weight: 700;
            color: #4A4A4A;
            margin-bottom: 0.3rem;
        }

        .action-card p {
            font-size: 0.9rem;
            color: #666;
            line-height: 1.4;
        }

        /* Main Start Card */
        .main-action {
            grid-column: 1 / -1;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.7) 0%, rgba(255, 230, 240, 0.5) 100%);
            border: 3px solid #fff;
            padding: 2.5rem 1.5rem;
            box-shadow: 0 10px 25px rgba(255, 107, 157, 0.2);
        }

        .main-action .action-icon {
            font-size: 3.5rem;
            animation: bounce 2s ease-in-out infinite;
        }

        .main-action h3 {
            font-size: 1.6rem;
            color: #FF6B9D;
        }

        /* Transparent Feature Cards (Refined) */
        .sub-action {
            background: transparent !important;
            border: none !important;
            box-shadow: none !important;
            padding: 1rem !important;
        }

        .sub-action:hover {
            transform: translateY(-5px) scale(1.05);
            background: rgba(255, 255, 255, 0.2) !important;
        }

        /* Cute Home Button (Top Left) */
        .home-btn-wrapper {
            position: absolute;
            top: 20px;
            left: 20px;
            z-index: 10;
        }

        .cute-home-btn {
            background: rgba(255, 255, 255, 0.8);
            border: 2px solid #FF9A9E;
            padding: 10px 20px;
            border-radius: 30px;
            font-size: 0.95rem;
            font-weight: 700;
            color: #FF6B9D;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(255, 154, 158, 0.3);
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
        }

        .cute-home-btn:hover {
            transform: translateY(-3px) scale(1.05);
            background: white;
            box-shadow: 0 8px 20px rgba(255, 154, 158, 0.5);
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            .glass-card {
                padding: 2rem 1.5rem;
                border-radius: 30px;
                padding: 3rem 1.5rem 2rem;
                border-radius: 30px;
                position: relative;
            }

            .home-title {
                font-size: 1.8rem;
            }

            .home-btn-wrapper {
                top: 15px;
                left: 15px;
            }

            .cute-home-btn {
                padding: 8px 15px;
                font-size: 0.85rem;
            }

            /* Mobile Stack Layout */
            .action-grid {
                grid-template-columns: 1fr;
                gap: 0.5rem;
            }

            .action-card {
                flex-direction: row;
                text-align: left;
                padding: 1.2rem;
                justify-content: flex-start;
            }

            .action-icon {
                margin-bottom: 0;
                margin-right: 1.2rem;
                font-size: 2rem;
            }

            .action-text {
                display: flex;
                flex-direction: column;
            }

            .main-action {
                flex-direction: column;
                text-align: center;
                padding: 2rem 1.5rem;
                justify-content: center;
            }

            .main-action .action-icon {
                margin-right: 0;
                margin-bottom: 1rem;
                font-size: 3rem;
            }

            /* Adjust sub-action text alignment for mobile */
            .sub-action {
                justify-content: center;
                /* Center content */
                text-align: center;
                /* Center text */
                flex-direction: column;
                /* Stack icon and text */
            }

            .sub-action .action-icon {
                margin-right: 0;
                margin-bottom: 0.5rem;
            }

            .sub-action .action-text {
                align-items: center;
            }
        }

        /* Mobile Feature Grid Refinement */
        @media (max-width: 768px) {

            /* Main Action full width */
            .main-action {
                grid-column: 1 / -1;
                margin-bottom: 1rem;
            }

            /* Sub actions in a grid (2x2) */
            .action-grid {
                grid-template-columns: repeat(2, 1fr);
                /* 2 columns for features (2x2 layout) */
                gap: 10px;
            }

            .sub-action {
                padding: 1rem !important;
                /* Restore padding for legibility */
            }

            .sub-action h3 {
                font-size: 0.85rem;
                margin-bottom: 2px;
            }

            .sub-action p {
                display: block;
                /* Show description again? or keep hidden? User liked "At a glance". */
                /* Let's show description but small, or hide if too cluttered. 
                    User said "Quick Result, Precision, Compatibility, +1". 
                    If 2x2, we have room for small text. */
                font-size: 0.7rem;
                line-height: 1.2;
                opacity: 0.8;
                display: block;
            }

            .sub-action .action-icon {
                font-size: 2rem;
                margin-bottom: 5px;
            }
        }

        @keyframes float {
            0% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-10px);
            }

            100% {
                transform: translateY(0px);
            }
        }

        @keyframes bounce {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }
        }

        /* Home Page */
        /* .home-title {
            font-size: 3.5rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 20px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: bounce 2s ease-in-out infinite;
        } */

        /* .home-subtitle {
            font-size: 1.3rem;
            color: var(--text-light);
            text-align: center;
            margin-bottom: 50px;
        } */

        .feature-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 50px;
        }

        .feature-card {
            text-align: center;
            padding: 30px 20px;
            background: var(--background);
            border-radius: 20px;
            transition: transform 0.3s;
        }

        .feature-card:hover {
            transform: translateY(-10px);
        }

        .feature-emoji {
            font-size: 3rem;
            margin-bottom: 15px;
            animation: pulse 2s ease-in-out infinite;
        }

        .feature-card h3 {
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        .btn {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 20px 50px;
            border: none;
            border-radius: 50px;
            font-size: 1.3rem;
            font-weight: 600;
            cursor: pointer;
            display: block;
            margin: 0 auto;
            box-shadow: 0 10px 30px rgba(255, 107, 157, 0.3);
            transition: all 0.3s;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
        }

        .btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(255, 107, 157, 0.4);
        }

        /* Test Page */
        .progress-bar {
            width: 100%;
            height: 12px;
            background: #F0F0F0;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 100%);
            transition: width 0.5s;
        }

        .progress-text {
            text-align: right;
            color: var(--primary);
            font-weight: 600;
            margin-bottom: 40px;
        }

        .question-number {
            display: inline-block;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 40px;
        }

        .options-container {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option-btn {
            width: 100%;
            background: white;
            border: 3px solid #F0F0F0;
            padding: 20px 25px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 1.05rem;
            cursor: pointer;
            transition: transform 0.2s;
            /* transformÎßå Ïï†ÎãàÎ©îÏù¥ÏÖò */
            text-align: left;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
            -webkit-user-select: none;
        }

        .option-btn:hover {
            border-color: var(--accent);
            background: var(--background);
            transform: translateX(8px);
        }

        .option-btn:active {
            transform: scale(0.98);
        }

        .option-btn:focus {
            outline: none;
        }

        /* ÏÑ†ÌÉùÎêú Î≤ÑÌäº Ïä§ÌÉÄÏùº - !importantÎ°ú Í∞ïÏ†ú Ï†ÅÏö© */
        .option-btn.selected {
            border-color: var(--primary) !important;
            background: var(--background) !important;
            transform: scale(0.98) !important;
            transition: none !important;
            /* transition ÏôÑÏ†Ñ Ï†úÍ±∞ */
        }

        .option-emoji {
            font-size: 2rem;
            flex-shrink: 0;
        }

        /* Score Bar Styles */
        .score-section {
            margin-bottom: 40px;
        }

        .score-item {
            margin-bottom: 30px;
        }

        .score-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .score-bar-container {
            display: flex;
            align-items: center;
            gap: 10px;
            height: 40px;
        }

        .score-bar {
            flex: 1;
            height: 100%;
            background: #F0F0F0;
            border-radius: 20px;
            overflow: hidden;
            position: relative;
        }

        .score-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 100%);
            transition: width 0.8s ease-out;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 15px;
            color: white;
            font-weight: 700;
        }

        .score-label {
            min-width: 80px;
            text-align: center;
            font-weight: 600;
            color: var(--text-dark);
        }

        .borderline-badge {
            display: inline-block;
            background: linear-gradient(135deg, #FEC8D8 0%, #FFE5EC 100%);
            color: var(--secondary);
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 0.9rem;
            font-weight: 600;
            border: 2px solid var(--accent);
            margin-left: 10px;
        }

        /* Result Page */
        .result-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .result-announcement {
            font-size: 2rem;
            margin-bottom: 30px;
        }

        .result-type-badge {
            display: inline-flex;
            align-items: center;
            gap: 15px;
            padding: 20px 40px;
            border-radius: 50px;
            margin-bottom: 20px;
        }

        .result-emoji {
            font-size: 4rem;
        }

        .result-type {
            font-size: 3rem;
            font-weight: 700;
            color: white;
            letter-spacing: 2px;
        }

        .result-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .result-description {
            font-size: 1.2rem;
            color: var(--text-light);
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .characteristic-item {
            background: var(--background);
            padding: 15px 20px;
            border-radius: 15px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .check-icon {
            color: var(--primary);
            font-weight: 700;
            font-size: 1.2rem;
        }

        .tags-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 30px;
        }

        .tag {
            padding: 12px 20px;
            border-radius: 20px;
            font-size: 0.95rem;
            font-weight: 500;
        }

        .strength-tag {
            background: #E6FFFA;
            color: #047857;
            border: 2px solid #10B981;
        }

        .weakness-tag {
            background: #FFF5F5;
            color: #B91C1C;
            border: 2px solid #EF4444;
        }

        .compatibility-item {
            background: linear-gradient(135deg, var(--background) 0%, white 100%);
            padding: 20px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
            border: 2px solid var(--accent);
            margin-bottom: 15px;
        }

        .compat-emoji {
            font-size: 2.5rem;
        }

        .compat-type {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary);
            min-width: 80px;
        }

        .compat-title {
            color: var(--text-light);
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 50px;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #667EEA 0%, #764BA2 100%);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
        }

        .btn-secondary:hover {
            transform: translateY(-5px);
        }

        /* Ad Modal Styles */
        .ad-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            animation: fadeIn 0.3s;
        }

        .ad-content {
            background: white;
            padding: 60px 40px;
            border-radius: 30px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            animation: slideUp 0.5s;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .ad-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--primary);
        }

        .ad-description {
            font-size: 1.1rem;
            color: var(--text-light);
            margin-bottom: 30px;
        }

        .ad-countdown {
            font-size: 4rem;
            font-weight: 700;
            color: var(--primary);
            margin: 30px 0;
            animation: pulse 1s ease-in-out infinite;
        }

        .ad-progress-bar {
            width: 100%;
            height: 20px;
            background: #F0F0F0;
            border-radius: 10px;
            overflow: hidden;
            margin: 30px 0;
        }

        .ad-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 100%);
            transition: width 1s linear;
        }

        .premium-unlock-btn {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: white;
            padding: 20px 50px;
            border: none;
            border-radius: 50px;
            font-size: 1.3rem;
            font-weight: 600;
            cursor: pointer;
            display: block;
            margin: 40px auto 0;
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.3);
            transition: all 0.3s;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
        }

        .premium-unlock-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(255, 215, 0, 0.4);
        }

        .premium-badge {
            display: inline-block;
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 700;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.3);
        }

        .basic-result {
            text-align: center;
            padding: 40px;
        }

        .unlock-section {
            background: linear-gradient(135deg, var(--background) 0%, white 100%);
            padding: 40px;
            border-radius: 20px;
            margin-top: 40px;
            border: 3px dashed var(--accent);
        }

        .unlock-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 20px;
        }

        .unlock-features {
            text-align: left;
            margin: 30px 0;
        }

        .unlock-feature-item {
            padding: 15px 20px;
            margin-bottom: 10px;
            background: white;
            border-radius: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .unlock-icon {
            font-size: 2rem;
        }

        @media (max-width: 768px) {
            .card {
                padding: 40px 20px;
            }

            /* .home-title {
                font-size: 2.5rem;
            } */
            .question-text {
                font-size: 1.5rem;
            }

            .result-type {
                font-size: 2rem;
            }

            .action-buttons {
                flex-direction: column;
            }

            .score-bar-container {
                gap: 5px;
            }

            .score-label {
                min-width: 60px;
                font-size: 0.85rem;
            }

            .score-bar-fill {
                font-size: 0.9rem;
                padding-right: 10px;
            }

            .score-header {
                font-size: 0.9rem;
            }

            .ad-content {
                padding: 40px 30px;
            }

            .ad-title {
                font-size: 1.5rem;
            }

            .ad-countdown {
                font-size: 3rem;
            }

            .option-btn {
                padding: 18px 20px;
                font-size: 0.95rem;
            }

            .option-emoji {
                font-size: 1.8rem;
            }
        }
    </style>
</head>

<body>
    <div id="app">
        <!-- ÌÅ¨Î°§Îü¨Ïö© Ï†ïÏ†Å fallback ÏΩòÌÖêÏ∏† (JavaScript Î°úÎî© Ï†Ñ ÌëúÏãú) -->
        <noscript>
            <h1>üé® Í∑ÄÏó¨Ïö¥ MBTI ÏÑ±Í≤© ÌÖåÏä§Ìä∏</h1>
            <p>JavaScriptÎ•º ÌôúÏÑ±ÌôîÌï¥Ï£ºÏÑ∏Ïöî. Ïù¥ ÌÖåÏä§Ìä∏Îäî JavaScriptÍ∞Ä ÌïÑÏöîÌï©ÎãàÎã§.</p>
        </noscript>
        
        <!-- SEO Î∞è ÌÅ¨Î°§Îü¨Î•º ÏúÑÌïú Ï¥àÍ∏∞ ÌÖçÏä§Ìä∏ -->
        <div class="static-content" style="text-align: center; padding: 40px 20px; max-width: 800px; margin: 0 auto;">
            <h1>üé® Í∑ÄÏó¨Ïö¥ MBTI ÌÖåÏä§Ìä∏</h1>
            <p style="font-size: 1.1rem; color: #666; margin: 20px 0;">ÎÇòÏùò ÏÑ±Í≤© Ïú†ÌòïÏùÑ Îçî Ï†ïÌôïÌïòÍ≤å ÏïåÏïÑÎ≥¥ÏÑ∏Ïöî!</p>
            
            <div style="margin: 30px 0; text-align: left; background: #fff5f7; padding: 20px; border-radius: 15px;">
                <h2 style="font-size: 1.3rem; color: #FF6B9D; margin-bottom: 15px;">‚ú® ÌÖåÏä§Ìä∏ ÌäπÏßï</h2>
                <ul style="line-height: 1.8; color: #333;">
                    <li>‚ö° <strong>Îπ†Î•∏ Í≤∞Í≥º:</strong> 25Î¨∏Ìï≠ÏúºÎ°ú 5Î∂Ñ ÏôÑÏÑ±</li>
                    <li>üéØ <strong>Ï†ïÎ∞Ä Î∂ÑÏÑù:</strong> 3Îã®Í≥Ñ ÎãµÎ≥Ä ÏãúÏä§ÌÖú (ÏïÑÎãàÎã§/Î≥¥ÌÜµ/Í∑∏Î†áÎã§)</li>
                    <li>üíï <strong>Í∂ÅÌï© Î≥¥Í∏∞:</strong> ÎÇòÏôÄ ÎßûÎäî Ïú†Ìòï Î∂ÑÏÑù</li>
                    <li>üìñ <strong>Ïú†Ìòï ÎèÑÍ∞ê:</strong> 16Í∞ÄÏßÄ ÏÑ±Í≤© Ïú†Ìòï ÏÉÅÏÑ∏ ÏÑ§Î™Ö</li>
                </ul>
            </div>
            
            <div style="margin: 30px 0; text-align: left;">
                <h2 style="font-size: 1.3rem; color: #FF6B9D; margin-bottom: 15px;">üìã 16Í∞ÄÏßÄ MBTI Ïú†Ìòï</h2>
                <p style="color: #666; line-height: 1.6;">
                    INTJ (Ï†ÑÎûµÍ∞Ä), INTP (ÎÖºÎ¶¨Ïà†ÏÇ¨), ENTJ (ÌÜµÏÜîÏûê), ENTP (Î≥ÄÎ°†Í∞Ä), 
                    INFJ (ÏòπÌò∏Ïûê), INFP (Ï§ëÏû¨Ïûê), ENFJ (ÏÑ†ÎèÑÏûê), ENFP (ÌôúÎèôÍ∞Ä), 
                    ISTJ (ÌòÑÏã§Ï£ºÏùòÏûê), ISFJ (ÏàòÌò∏Ïûê), ESTJ (Í≤ΩÏòÅÏûê), ESFJ (ÏßëÏ†ïÍ¥Ä), 
                    ISTP (Ïû•Ïù∏), ISFP (Î™®ÌóòÍ∞Ä), ESTP (ÏÇ¨ÏóÖÍ∞Ä), ESFP (Ïó∞ÏòàÏù∏)
                </p>
            </div>
            
            <p style="color: #999; font-size: 0.9rem; margin-top: 30px;">ÌÖåÏä§Ìä∏Î•º ÏãúÏûëÌïòÎ†§Î©¥ Ïû†Ïãú Í∏∞Îã§Î†§Ï£ºÏÑ∏Ïöî...</p>
        </div>
    </div>

    <script>
        // üé® MBTI ÌÖåÏä§Ìä∏ v2.0 - 3Ï†ê Ï≤ôÎèÑ + 25Î¨∏Ìï≠ ÏãúÏä§ÌÖú
        // Ï†ïÎ∞ÄÎèÑ Ìñ•ÏÉÅ: ÏïÑÎãàÎã§(-1), Î≥¥ÌÜµ(0), Í∑∏Î†áÎã§(+1)

        const questions = [
            // E/I Ï∂ï (7Î¨∏Ìï≠) - Ïô∏Ìñ•ÏÑ±/ÎÇ¥Ìñ•ÏÑ±
            {
                id: 1,
                axis: 'EI',
                question: "Ï£ºÎßêÏóê ÏπúÍµ¨Îì§Ïù¥ Í∞ëÏûêÍ∏∞ ÎÜÄÏûêÍ≥† Ìï† Îïå?",
                options: [
                    { text: "Ï¢ãÏïÑ! Î∞îÎ°ú Ï§ÄÎπÑ!", type: "E", value: 1, emoji: "üéâ" },
                    { text: "ÏÉÅÌô©Ïóê Îî∞Îùº Îã§Î¶Ñ", type: "N", value: 0, emoji: "ü§î" },
                    { text: "ÏßëÏóêÏÑú Ïâ¨Í≥† Ïã∂Ïñ¥", type: "I", value: -1, emoji: "üè†" }
                ]
            },
            {
                id: 2,
                axis: 'EI',
                question: "ÌååÌã∞Ïóê Í∞îÏùÑ Îïå ÎÇòÎäî?",
                options: [
                    { text: "Ïó¨Îü¨ ÏÇ¨ÎûåÍ≥º ÎåÄÌôî", type: "E", value: 1, emoji: "ü•≥" },
                    { text: "Ï†ÅÎãπÌûà ÏÑûÏó¨ÏÑú", type: "N", value: 0, emoji: "üòä" },
                    { text: "ÏπúÌïú ÏÇ¨Îûå ÏòÜÏóê", type: "I", value: -1, emoji: "üë•" }
                ]
            },
            {
                id: 3,
                axis: 'EI',
                question: "ÏïΩÏÜçÏù¥ Ï∑®ÏÜåÎêêÏùÑ Îïå?",
                options: [
                    { text: "Îã§Î•∏ ÏïΩÏÜç Ïû°Í∏∞", type: "E", value: 1, emoji: "‚òÄÔ∏è" },
                    { text: "Í∑∏ÎÉ• Í∑∏Îü¨Î†§Îãà", type: "N", value: 0, emoji: "üÜó" },
                    { text: "Ïò§ÌûàÎ†§ Ï¢ãÏïÑ!", type: "I", value: -1, emoji: "üåô" }
                ]
            },
            {
                id: 4,
                axis: 'EI',
                question: "ÏóêÎÑàÏßÄ Ï∂©Ï†Ñ Î∞©Î≤ïÏùÄ?",
                options: [
                    { text: "ÏÇ¨ÎûåÎì§Í≥º ÎßåÎÇ®", type: "E", value: 1, emoji: "üéä" },
                    { text: "ÎïåÏóê Îî∞Îùº Îã§Î¶Ñ", type: "N", value: 0, emoji: "‚öñÔ∏è" },
                    { text: "ÌòºÏûêÎßåÏùò ÏãúÍ∞Ñ", type: "I", value: -1, emoji: "üìö" }
                ]
            },
            {
                id: 5,
                axis: 'EI',
                question: "ÏÉàÎ°úÏö¥ ÌôòÍ≤ΩÏóêÏÑú?",
                options: [
                    { text: "Î®ºÏ†Ä Îã§Í∞ÄÍ∞ÄÍ∏∞", type: "E", value: 1, emoji: "üëã" },
                    { text: "ÏûêÏó∞Ïä§ÎüΩÍ≤å", type: "N", value: 0, emoji: "üôÇ" },
                    { text: "Ï°∞Ïö©Ìûà Í¥ÄÏ∞∞", type: "I", value: -1, emoji: "üëÄ" }
                ]
            },
            {
                id: 6,
                axis: 'EI',
                question: "Í∏¥ ÌöåÏùò ÌõÑ Í∏∞Î∂ÑÏùÄ?",
                options: [
                    { text: "Îçî ÏñòÍ∏∞ÌïòÍ≥† Ïã∂Ïñ¥", type: "E", value: 1, emoji: "üí¨" },
                    { text: "Ï†ÅÎãπÌûà ÏßÄÏπ®", type: "N", value: 0, emoji: "üòê" },
                    { text: "ÏôÑÏ†Ñ ÌîºÍ≥§Ìï¥", type: "I", value: -1, emoji: "üò¥" }
                ]
            },
            {
                id: 7,
                axis: 'EI',
                question: "Ï†ÑÌôî vs Î©îÏãúÏßÄ?",
                options: [
                    { text: "Ï†ÑÌôîÍ∞Ä Ìé∏Ìï¥", type: "E", value: 1, emoji: "üìû" },
                    { text: "ÏÉÅÌô©Ïóê Îî∞Îùº", type: "N", value: 0, emoji: "üì±" },
                    { text: "Î©îÏãúÏßÄÍ∞Ä Ï¢ãÏïÑ", type: "I", value: -1, emoji: "üí¨" }
                ]
            },

            // S/N Ï∂ï (7Î¨∏Ìï≠) - Í∞êÍ∞Å/ÏßÅÍ¥Ä
            {
                id: 8,
                axis: 'SN',
                question: "ÏòÅÌôî Î≥º Îïå?",
                options: [
                    { text: "Í∑∏ÎÉ• Ïû¨ÎØ∏ÏûàÍ≤å", type: "S", value: -1, emoji: "üé¨" },
                    { text: "Îëò Îã§ ÏÑûÏó¨ÏÑú", type: "N", value: 0, emoji: "üé≠" },
                    { text: "ÏùòÎØ∏/Î≥µÏÑ† Î∂ÑÏÑù", type: "N", value: 1, emoji: "üîÆ" }
                ]
            },
            {
                id: 9,
                axis: 'SN',
                question: "ÏÉàÎ°úÏö¥ Í≤É Î∞∞Ïö∏ Îïå?",
                options: [
                    { text: "ÏùºÎã® Ìï¥Î≥¥Í∏∞", type: "S", value: -1, emoji: "‚ö°" },
                    { text: "Ï†ÅÏ†àÌûà Î≥ëÌñâ", type: "N", value: 0, emoji: "üéØ" },
                    { text: "ÏõêÎ¶¨Î∂ÄÌÑ∞ Ïù¥Ìï¥", type: "N", value: 1, emoji: "üìö" }
                ]
            },
            {
                id: 10,
                axis: 'SN',
                question: "ÎåÄÌôîÌï† Îïå?",
                options: [
                    { text: "Íµ¨Ï≤¥Ï†Å ÏÇ¨Ïã§", type: "S", value: -1, emoji: "üìä" },
                    { text: "ÏÉÅÌô©Ïóê Îî∞Îùº", type: "N", value: 0, emoji: "üí≠" },
                    { text: "Í∞ÄÎä•ÏÑ±/ÏùòÎØ∏", type: "N", value: 1, emoji: "üåü" }
                ]
            },
            {
                id: 11,
                axis: 'SN',
                question: "ÏÑ§Î™ÖÏÑú ÏùΩÍ∏∞?",
                options: [
                    { text: "ÍººÍººÌûà ÏùΩÏùå", type: "S", value: -1, emoji: "üìÑ" },
                    { text: "ÌïÑÏöîÌïú Î∂ÄÎ∂ÑÎßå", type: "N", value: 0, emoji: "üìñ" },
                    { text: "ÎåÄÏ∂© Í∞êÏúºÎ°ú", type: "N", value: 1, emoji: "üí°" }
                ]
            },
            {
                id: 12,
                axis: 'SN',
                question: "Î¨∏Ï†ú Ìï¥Í≤∞ Î∞©Ïãù?",
                options: [
                    { text: "Í≤ÄÏ¶ùÎêú Î∞©Î≤ï", type: "S", value: -1, emoji: "‚úÖ" },
                    { text: "ÏÉÅÌô© Î≥¥Í≥†", type: "N", value: 0, emoji: "üîÑ" },
                    { text: "ÏÉàÎ°úÏö¥ Î∞©Î≤ï", type: "N", value: 1, emoji: "üí°" }
                ]
            },
            {
                id: 13,
                axis: 'SN',
                question: "ÎØ∏ÎûòÎ•º ÏÉùÍ∞ÅÌï† Îïå?",
                options: [
                    { text: "ÌòÑÏã§Ï†Å Í≥ÑÌöç", type: "S", value: -1, emoji: "üìÖ" },
                    { text: "Ï†ÅÏ†àÌûà ÏÑûÏñ¥ÏÑú", type: "N", value: 0, emoji: "üéØ" },
                    { text: "ÌÅ∞ Í∑∏Î¶º/Í∞ÄÎä•ÏÑ±", type: "N", value: 1, emoji: "üåà" }
                ]
            },
            {
                id: 14,
                axis: 'SN',
                question: "Ïù¥ÏïºÍ∏∞Î•º Ìï† Îïå?",
                options: [
                    { text: "ÏàúÏÑúÎåÄÎ°ú ÏûêÏÑ∏Ìûà", type: "S", value: -1, emoji: "üìù" },
                    { text: "Ï†ÅÎãπÌûà", type: "N", value: 0, emoji: "üí¨" },
                    { text: "Í≤∞Î°†/ÌïµÏã¨Îßå", type: "N", value: 1, emoji: "‚≠ê" }
                ]
            },

            // T/F Ï∂ï (6Î¨∏Ìï≠) - ÏÇ¨Í≥†/Í∞êÏ†ï
            {
                id: 15,
                axis: 'TF',
                question: "ÏπúÍµ¨ Í≥†ÎØº ÏÉÅÎã¥?",
                options: [
                    { text: "Ìï¥Í≤∞Ï±Ö Ï†úÏãú", type: "T", value: 1, emoji: "üí°" },
                    { text: "ÏÉÅÌô©Ïóê Îî∞Îùº", type: "N", value: 0, emoji: "ü§ù" },
                    { text: "Í≥µÍ∞ê/ÏúÑÎ°ú", type: "F", value: -1, emoji: "üíï" }
                ]
            },
            {
                id: 16,
                axis: 'TF',
                question: "ÏùòÍ≤¨ Ï∂©Îèå Ïãú?",
                options: [
                    { text: "ÎÖºÎ¶¨Ï†Å ÏÑ§Îìù", type: "T", value: 1, emoji: "üß†" },
                    { text: "ÏÉÅÌô©Ïóê ÎßûÍ≤å", type: "N", value: 0, emoji: "üîÑ" },
                    { text: "Í∏∞Î∂Ñ Î®ºÏ†Ä", type: "F", value: -1, emoji: "üå∏" }
                ]
            },
            {
                id: 17,
                axis: 'TF',
                question: "Í≤∞Ï†ïÏùÑ ÎÇ¥Î¶¥ Îïå?",
                options: [
                    { text: "ÏÇ¨Ïã§/ÎÖºÎ¶¨", type: "T", value: 1, emoji: "üìê" },
                    { text: "Í∑†ÌòïÏûàÍ≤å", type: "N", value: 0, emoji: "‚öñÔ∏è" },
                    { text: "Í∞êÏ†ï/Í¥ÄÍ≥Ñ", type: "F", value: -1, emoji: "‚ù§Ô∏è" }
                ]
            },
            {
                id: 18,
                axis: 'TF',
                question: "Ïã§ÏàòÌïú ÏπúÍµ¨ÏóêÍ≤å?",
                options: [
                    { text: "Í∞úÏÑ† Î∞©Î≤ï", type: "T", value: 1, emoji: "üë®‚Äçüè´" },
                    { text: "Ï†ÅÏ†àÌûà", type: "N", value: 0, emoji: "üëç" },
                    { text: "Í≤©Î†§/ÏúÑÎ°ú", type: "F", value: -1, emoji: "ü§ó" }
                ]
            },
            {
                id: 19,
                axis: 'TF',
                question: "ÎπÑÌåêÏùÑ Îì§ÏúºÎ©¥?",
                options: [
                    { text: "Í∞ùÍ¥ÄÏ†Å Í≤ÄÌÜ†", type: "T", value: 1, emoji: "üéØ" },
                    { text: "ÏÉÅÌô©Ïóê Îî∞Îùº", type: "N", value: 0, emoji: "ü§î" },
                    { text: "Í∞êÏ†ïÏ†Å Î∞òÏùë", type: "F", value: -1, emoji: "üò¢" }
                ]
            },
            {
                id: 20,
                axis: 'TF',
                question: "ÏòÅÌôî ÏÑ†ÌÉù Í∏∞Ï§Ä?",
                options: [
                    { text: "ÌèâÏ†ê/Î¶¨Î∑∞", type: "T", value: 1, emoji: "‚≠ê" },
                    { text: "Îëò Îã§ Í≥†Î†§", type: "N", value: 0, emoji: "üé¨" },
                    { text: "Í∞êÏ†ï/ÎäêÎÇå", type: "F", value: -1, emoji: "üíù" }
                ]
            },

            // J/P Ï∂ï (5Î¨∏Ìï≠) - ÌåêÎã®/Ïù∏Ïãù
            {
                id: 21,
                axis: 'JP',
                question: "ÌîÑÎ°úÏ†ùÌä∏ ÏãúÏûëÌï† Îïå?",
                options: [
                    { text: "Í≥ÑÌöçÎ∂ÄÌÑ∞", type: "J", value: 1, emoji: "üìã" },
                    { text: "ÎåÄÎûµ Íµ¨ÏÉÅ", type: "N", value: 0, emoji: "üìù" },
                    { text: "ÏùºÎã® ÏãúÏûë", type: "P", value: -1, emoji: "üé®" }
                ]
            },
            {
                id: 22,
                axis: 'JP',
                question: "Ïó¨Ìñâ Ïä§ÌÉÄÏùº?",
                options: [
                    { text: "ÏùºÏ†ïÌëú ÏûëÏÑ±", type: "J", value: 1, emoji: "‚úàÔ∏è" },
                    { text: "ÌïµÏã¨Îßå Í≥ÑÌöç", type: "N", value: 0, emoji: "üó∫Ô∏è" },
                    { text: "Ï¶âÌù•Ï†ÅÏúºÎ°ú", type: "P", value: -1, emoji: "üéí" }
                ]
            },
            {
                id: 23,
                axis: 'JP',
                question: "Í≥ºÏ†ú/ÏóÖÎ¨¥ Ï≤òÎ¶¨?",
                options: [
                    { text: "ÎØ∏Î¶¨ÎØ∏Î¶¨", type: "J", value: 1, emoji: "‚úÖ" },
                    { text: "Ï†ÅÎãπÌïú Îïå", type: "N", value: 0, emoji: "‚è∞" },
                    { text: "ÎßàÍ∞ê ÏßÅÏ†Ñ", type: "P", value: -1, emoji: "üî•" }
                ]
            },
            {
                id: 24,
                axis: 'JP',
                question: "Ï£ºÎßê Í≥ÑÌöç?",
                options: [
                    { text: "ÎØ∏Î¶¨ Í≥ÑÌöç", type: "J", value: 1, emoji: "üìÖ" },
                    { text: "ÎåÄÎûµ ÏÉùÍ∞Å", type: "N", value: 0, emoji: "ü§∑" },
                    { text: "Í∑∏ÎïåÍ∑∏Îïå", type: "P", value: -1, emoji: "üé≤" }
                ]
            },
            {
                id: 25,
                axis: 'JP',
                question: "Ï†ïÎ¶¨ Ï†ïÎèà?",
                options: [
                    { text: "Ìï≠ÏÉÅ ÍπîÎÅî", type: "J", value: 1, emoji: "üßπ" },
                    { text: "Ï†ÅÎãπÌûà Ïú†ÏßÄ", type: "N", value: 0, emoji: "üì¶" },
                    { text: "ÌïÑÏöîÌï† ÎïåÎßå", type: "P", value: -1, emoji: "üåÄ" }
                ]
            }
        ];

        const mbtiResults = {
            INTJ: {
                type: 'INTJ', title: 'Ï†ÑÎûµÍ∞Ä', emoji: 'üßô‚Äç‚ôÇÔ∏è', color: '#6B46C1',
                description: 'ÎèÖÏ∞ΩÏ†ÅÏù¥Í≥† Ï†ÑÎûµÏ†ÅÏù∏ ÏÇ¨Í≥†Î•º Í∞ÄÏßÑ ÏôÑÎ≤ΩÏ£ºÏùòÏûê',
                characteristics: ['ÎÖºÎ¶¨Ï†ÅÏù¥Í≥† Î∂ÑÏÑùÏ†Å', 'ÎèÖÎ¶ΩÏ†ÅÏù¥Í≥† ÏûêÍ∏∞Ï£ºÎèÑÏ†Å', 'Ïû•Í∏∞Ï†Å ÎπÑÏ†Ñ Ï∂îÍµ¨', 'ÏôÑÎ≤ΩÏ£ºÏùò ÏÑ±Ìñ•'],
                strengths: ['Ï†ÑÎûµÏ†Å ÏÇ¨Í≥†', 'ÎèÖÏ∞ΩÏÑ±', 'ÏûêÍ∏∞ÌôïÏã†', 'Í≤∞Îã®Î†•'],
                weaknesses: ['Í∞êÏ†ïÌëúÌòÑ ÏÑúÌà¥', 'ÎπÑÌåêÏ†Å', 'ÏôÑÎ≤ΩÏ£ºÏùò', 'ÌÉÄÌòë Ïñ¥Î†§ÏõÄ'],
                compatibility: ['ENFP', 'ENTP', 'INFJ']
            },
            INTP: {
                type: 'INTP', title: 'ÎÖºÎ¶¨Ïà†ÏÇ¨', emoji: 'üî¨', color: '#4299E1',
                description: 'Ìò∏Í∏∞Ïã¨ ÎßéÍ≥† ÌòÅÏã†Ï†ÅÏù∏ Î∞úÎ™ÖÍ∞Ä',
                characteristics: ['ÎÖºÎ¶¨Ï†ÅÏù¥Í≥† Í∞ùÍ¥ÄÏ†Å', 'Ìò∏Í∏∞Ïã¨Ïù¥ ÎßéÏùå', 'ÎèÖÏ∞ΩÏ†ÅÏù∏ ÏïÑÏù¥ÎîîÏñ¥', 'Î∂ÑÏÑùÏ†Å ÏÇ¨Í≥†'],
                strengths: ['ÎÖºÎ¶¨Ï†Å Î∂ÑÏÑù', 'Ï∞ΩÏùòÏÑ±', 'Í∞ùÍ¥ÄÏÑ±', 'Î¨∏Ï†úÌï¥Í≤∞Î†•'],
                weaknesses: ['ÏÇ∞ÎßåÌï®', 'Í∞êÏ†ï Î¨¥Ïãú', 'Ïã§ÌñâÎ†• Î∂ÄÏ°±', 'ÏÇ¨ÌöåÏÑ± Î∂ÄÏ°±'],
                compatibility: ['ENTJ', 'ESTJ', 'INFJ']
            },
            ENTJ: {
                type: 'ENTJ', title: 'ÌÜµÏÜîÏûê', emoji: 'üëë', color: '#D53F8C',
                description: 'ÎåÄÎã¥ÌïòÍ≥† ÏÉÅÏÉÅÎ†•Ïù¥ ÌíçÎ∂ÄÌïú Î¶¨Îçî',
                characteristics: ['Ïπ¥Î¶¨Ïä§Îßà ÏûàÎäî Î¶¨ÎçîÏã≠', 'Ìö®Ïú®ÏÑ± Ï∂îÍµ¨', 'Î™©Ìëú ÏßÄÌñ•Ï†Å', 'Í≤∞Îã®Î†• ÏûàÏùå'],
                strengths: ['Î¶¨ÎçîÏã≠', 'Ï†ÑÎûµÏ†Å ÏÇ¨Í≥†', 'Ìö®Ïú®ÏÑ±', 'ÏûêÏã†Í∞ê'],
                weaknesses: ['Í∞ïÏïïÏ†Å', 'Í∞êÏ†ï Î¨¥Ïãú', 'Ï∞∏ÏùÑÏÑ± Î∂ÄÏ°±', 'ÎπÑÌåêÏ†Å'],
                compatibility: ['INTP', 'INFP', 'INTJ']
            },
            ENTP: {
                type: 'ENTP', title: 'Î≥ÄÎ°†Í∞Ä', emoji: 'üé≠', color: '#ED8936',
                description: 'ÏòÅÎ¶¨ÌïòÍ≥† Ìò∏Í∏∞Ïã¨ ÎßéÏùÄ ÌÜ†Î°†Í∞Ä',
                characteristics: ['Ïû¨ÏπòÏûàÍ≥† ÎòëÎòëÌï®', 'ÌÜ†Î°†ÏùÑ Ï¶êÍπÄ', 'ÌòÅÏã†Ï†ÅÏù∏ ÏÇ¨Í≥†', 'ÎèÑÏ†ÑÏ†Å'],
                strengths: ['Ï∞ΩÏùòÏÑ±', 'ÎÖºÎ¶¨Î†•', 'Ï†ÅÏùëÎ†•', 'Ïó¥Ï†ï'],
                weaknesses: ['ÎÖºÏüÅÏ†Å', 'ÏßëÏ§ëÎ†• Î∂ÄÏ°±', 'Í∑úÏπô Î¨¥Ïãú', 'ÎØºÍ∞êÏÑ± Î∂ÄÏ°±'],
                compatibility: ['INFJ', 'INTJ', 'ENFP']
            },
            INFJ: {
                type: 'INFJ', title: 'ÏòπÌò∏Ïûê', emoji: 'ü¶Ñ', color: '#38B2AC',
                description: 'Ïù¥ÏÉÅÏ£ºÏùòÏ†ÅÏù¥Í≥† ÏõêÏπôÏ£ºÏùòÏ†ÅÏù∏ ÏÑ†Íµ¨Ïûê',
                characteristics: ['Ïù¥ÏÉÅÏ£ºÏùòÏ†Å', 'ÌÜµÏ∞∞Î†•Ïù¥ Îõ∞Ïñ¥ÎÇ®', 'ÌóåÏã†Ï†Å', 'ÏõêÏπôÏ£ºÏùò'],
                strengths: ['ÌÜµÏ∞∞Î†•', 'Ï∞ΩÏùòÏÑ±', 'ÌóåÏã†', 'Ïù¥ÏÉÅÏ£ºÏùò'],
                weaknesses: ['ÏôÑÎ≤ΩÏ£ºÏùò', 'ÏòàÎØºÌï®', 'Î≤àÏïÑÏõÉ', 'ÎπÑÌòÑÏã§Ï†Å'],
                compatibility: ['ENFP', 'ENTP', 'INTJ']
            },
            INFP: {
                type: 'INFP', title: 'Ï§ëÏû¨Ïûê', emoji: 'üåà', color: '#F687B3',
                description: 'Ïù¥ÏÉÅÏ£ºÏùòÏ†ÅÏù¥Í≥† Ï∂©ÏÑ±Ïä§Îü¨Ïö¥ ÎÇ≠ÎßåÏ£ºÏùòÏûê',
                characteristics: ['Ïù¥ÏÉÅÏ£ºÏùòÏ†Å', 'Ï∞ΩÏùòÏ†Å', 'Í≥µÍ∞ê Îä•Î†• Îõ∞Ïñ¥ÎÇ®', 'Í∞ÄÏπò ÏßÄÌñ•Ï†Å'],
                strengths: ['Ï∞ΩÏùòÏÑ±', 'Í≥µÍ∞ê Îä•Î†•', 'Ïù¥ÏÉÅÏ£ºÏùò', 'Ï∂©ÏÑ±Ïã¨'],
                weaknesses: ['ÎπÑÌòÑÏã§Ï†Å', 'Í≥ºÎèÑÌïú Ïù¥ÏÉÅÌôî', 'ÏûêÍ∏∞ÎπÑÌåê', 'Ïä§Ìä∏Î†àÏä§ Ï∑®ÏïΩ'],
                compatibility: ['ENFJ', 'ENTJ', 'INFJ']
            },
            ENFJ: {
                type: 'ENFJ', title: 'ÏÑ†ÎèÑÏûê', emoji: '‚ú®', color: '#48BB78',
                description: 'Ïπ¥Î¶¨Ïä§Îßà ÏûàÍ≥† ÏòÅÍ∞êÏùÑ Ï£ºÎäî Î¶¨Îçî',
                characteristics: ['ÌÉÄÏù∏ ÏßÄÌñ•Ï†Å', 'Ïπ¥Î¶¨Ïä§Îßà', 'Ïó¥Ï†ïÏ†Å', 'Ï°∞Ìôî Ï∂îÍµ¨'],
                strengths: ['Î¶¨ÎçîÏã≠', 'Í≥µÍ∞ê Îä•Î†•', 'ÏÜåÌÜµÎ†•', 'Ïó¥Ï†ï'],
                weaknesses: ['ÏßÄÎÇòÏπú Ìù¨ÏÉù', 'ÌÉÄÏù∏ ÏùòÏ°¥', 'ÎπÑÌåê ÎØºÍ∞ê', 'Í≤∞Ï†ï Ïñ¥Î†§ÏõÄ'],
                compatibility: ['INFP', 'ISFP', 'ENFP']
            },
            ENFP: {
                type: 'ENFP', title: 'ÌôúÎèôÍ∞Ä', emoji: 'üé™', color: '#F6AD55',
                description: 'Ïó¥Ï†ïÏ†ÅÏù¥Í≥† Ï∞ΩÏùòÏ†ÅÏù∏ ÏûêÏú†Î°úÏö¥ ÏòÅÌòº',
                characteristics: ['Ïó¥Ï†ïÏ†Å', 'Ï∞ΩÏùòÏ†Å', 'ÏÇ¨ÍµêÏ†Å', 'Ìò∏Í∏∞Ïã¨ ÎßéÏùå'],
                strengths: ['Ï∞ΩÏùòÏÑ±', 'Ïó¥Ï†ï', 'ÏÜåÌÜµÎ†•', 'ÎÇôÍ¥ÄÏÑ±'],
                weaknesses: ['ÏßëÏ§ëÎ†• Î∂ÄÏ°±', 'Í≥ºÎèÑÌïú ÎÇôÍ¥Ä', 'Ïä§Ìä∏Î†àÏä§ Í¥ÄÎ¶¨', 'Ïã§ÌñâÎ†• Î∂ÄÏ°±'],
                compatibility: ['INTJ', 'INFJ', 'ENFJ']
            },
            ISTJ: {
                type: 'ISTJ', title: 'ÌòÑÏã§Ï£ºÏùòÏûê', emoji: 'üìä', color: '#2C5282',
                description: 'ÏÇ¨Ïã§Ï†ÅÏù¥Í≥† Ï±ÖÏûÑÍ∞ê Í∞ïÌïú Ïã§Ïö©Ï£ºÏùòÏûê',
                characteristics: ['Ï±ÖÏûÑÍ∞ê Í∞ïÌï®', 'Ï°∞ÏßÅÏ†Å', 'ÌòÑÏã§Ï†Å', 'Ïã†Î¢∞Ìï† Ïàò ÏûàÏùå'],
                strengths: ['Ï±ÖÏûÑÍ∞ê', 'Ï°∞ÏßÅÎ†•', 'Ïã†Î¢∞ÏÑ±', 'Í∞ùÍ¥ÄÏÑ±'],
                weaknesses: ['ÏúµÌÜµÏÑ± Î∂ÄÏ°±', 'Î≥¥ÏàòÏ†Å', 'Í∞êÏ†ï ÌëúÌòÑ ÏÑúÌà¥', 'Î≥ÄÌôî Í±∞Î∂Ä'],
                compatibility: ['ESFP', 'ESTP', 'ISFJ']
            },
            ISFJ: {
                type: 'ISFJ', title: 'ÏàòÌò∏Ïûê', emoji: 'üõ°Ô∏è', color: '#5A67D8',
                description: 'ÌóåÏã†Ï†ÅÏù¥Í≥† Îî∞ÎúªÌïú Î≥¥Ìò∏Ïûê',
                characteristics: ['ÌóåÏã†Ï†Å', 'Ï±ÖÏûÑÍ∞ê Í∞ïÌï®', 'ÏÑ∏Ïã¨Ìï®', 'Ï°∞Ìôî Ï∂îÍµ¨'],
                strengths: ['ÌóåÏã†', 'Ï±ÖÏûÑÍ∞ê', 'ÏÑ∏Ïã¨Ìï®', 'ÏßÄÏõê'],
                weaknesses: ['ÏûêÍ∏∞Ï£ºÏû• Î∂ÄÏ°±', 'Î≥ÄÌôî Í±∞Î∂Ä', 'Í≥ºÎèÑÌïú Ìù¨ÏÉù', 'ÏôÑÎ≤ΩÏ£ºÏùò'],
                compatibility: ['ESFP', 'ESTP', 'ISTJ']
            },
            ESTJ: {
                type: 'ESTJ', title: 'Í≤ΩÏòÅÏûê', emoji: 'üìà', color: '#C05621',
                description: 'Îõ∞Ïñ¥ÎÇú Ï°∞ÏßÅÎ†•ÏùÑ Í∞ÄÏßÑ Í¥ÄÎ¶¨Ïûê',
                characteristics: ['Ï°∞ÏßÅÏ†Å', 'Ïã§Ïö©Ï†Å', 'Ï±ÖÏûÑÍ∞ê', 'Í≤∞Îã®Î†•'],
                strengths: ['Ï°∞ÏßÅÎ†•', 'Ïã§ÌñâÎ†•', 'Ï±ÖÏûÑÍ∞ê', 'Ìö®Ïú®ÏÑ±'],
                weaknesses: ['ÏúµÌÜµÏÑ± Î∂ÄÏ°±', 'Í≥†Ïßë', 'Í∞êÏ†ï Î¨¥Ïãú', 'ÎπÑÌåêÏ†Å'],
                compatibility: ['ISFP', 'ISTP', 'INTP']
            },
            ESFJ: {
                type: 'ESFJ', title: 'ÏßëÏ†ïÍ¥Ä', emoji: 'ü§ù', color: '#DD6B20',
                description: 'ÏÇ¨ÍµêÏ†ÅÏù¥Í≥† ÌòëÏ°∞Ï†ÅÏù∏ Ï°∞Î†•Ïûê',
                characteristics: ['ÏÇ¨ÍµêÏ†Å', 'ÌòëÏ°∞Ï†Å', 'ÌóåÏã†Ï†Å', 'Ï°∞Ìôî Ï∂îÍµ¨'],
                strengths: ['ÏÇ¨ÍµêÏÑ±', 'ÌòëÏ°∞', 'Ï±ÖÏûÑÍ∞ê', 'Î∞∞Î†§'],
                weaknesses: ['ÎπÑÌåê ÎØºÍ∞ê', 'ÌÉÄÏù∏ ÏùòÏ°¥', 'Î≥ÄÌôî Í±∞Î∂Ä', 'Ï£ºÎèÑÏÑ± Î∂ÄÏ°±'],
                compatibility: ['ISFP', 'ISTP', 'ISTJ']
            },
            ISTP: {
                type: 'ISTP', title: 'Ïû•Ïù∏', emoji: 'üîß', color: '#2D3748',
                description: 'ÎåÄÎã¥ÌïòÍ≥† Ïã§Ïö©Ï†ÅÏù∏ Ïã§ÌóòÍ∞Ä',
                characteristics: ['Ïã§Ïö©Ï†Å', 'ÎÖºÎ¶¨Ï†Å', 'ÎèÖÎ¶ΩÏ†Å', 'ÏúµÌÜµÏÑ±'],
                strengths: ['Î¨∏Ï†úÌï¥Í≤∞', 'ÎÖºÎ¶¨ÏÑ±', 'Ï†ÅÏùëÎ†•', 'Ïã§Ïö©ÏÑ±'],
                weaknesses: ['Í∞êÏ†ï ÌëúÌòÑ ÏÑúÌà¥', 'Î¨¥Í¥ÄÏã¨', 'Ï±ÖÏûÑÌöåÌîº', 'Í≥ÑÌöçÏÑ± Î∂ÄÏ°±'],
                compatibility: ['ESFJ', 'ESTJ', 'ISFP']
            },
            ISFP: {
                type: 'ISFP', title: 'Î™®ÌóòÍ∞Ä', emoji: 'üé®', color: '#9F7AEA',
                description: 'Ïú†Ïó∞ÌïòÍ≥† Îß§Î†•Ï†ÅÏù∏ ÏòàÏà†Í∞Ä',
                characteristics: ['ÏòàÏà†Ï†Å', 'Ïú†Ïó∞Ìï®', 'Í∞êÏàòÏÑ±', 'ÏûêÏú†Î°úÏõÄ'],
                strengths: ['Ï∞ΩÏùòÏÑ±', 'Í∞êÏàòÏÑ±', 'Ïú†Ïó∞ÏÑ±', 'Ïã¨ÎØ∏Ïïà'],
                weaknesses: ['Í≥ÑÌöçÏÑ± Î∂ÄÏ°±', 'Í≤ΩÏüÅ ÌöåÌîº', 'ÏûêÍ∏∞Ï£ºÏû• ÏïΩÌï®', 'ÏòàÎØºÌï®'],
                compatibility: ['ESFJ', 'ESTJ', 'ISTP']
            },
            ESTP: {
                type: 'ESTP', title: 'ÏÇ¨ÏóÖÍ∞Ä', emoji: '‚ö°', color: '#E53E3E',
                description: 'ÏóêÎÑàÏßÄ ÎÑòÏπòÎäî Î™®ÌóòÍ∞Ä',
                characteristics: ['ÌôúÎèôÏ†Å', 'ÎåÄÎã¥Ìï®', 'Ïã§Ïö©Ï†Å', 'ÏàúÎ∞úÎ†•'],
                strengths: ['Ïã§ÌñâÎ†•', 'Ï†ÅÏùëÎ†•', 'ÏÇ¨ÍµêÏÑ±', 'ÌòÑÏã§Í∞êÍ∞Å'],
                weaknesses: ['Í≥ÑÌöçÏÑ± Î∂ÄÏ°±', 'Ï∂©ÎèôÏ†Å', 'ÏúÑÌóò Í∞êÏàò', 'Ïù∏ÎÇ¥Ïã¨ Î∂ÄÏ°±'],
                compatibility: ['ISFJ', 'ISTJ', 'ESFP']
            },
            ESFP: {
                type: 'ESFP', title: 'Ïó∞ÏòàÏù∏', emoji: 'üéâ', color: '#F56565',
                description: 'Ï¶âÌù•Ï†ÅÏù¥Í≥† ÌôúÍ∏∞Ï∞¨ ÏóîÌÑ∞ÌÖåÏù¥ÎÑà',
                characteristics: ['ÏÇ¨ÍµêÏ†Å', 'Ï¶âÌù•Ï†Å', 'ÌôúÎ∞úÌï®', 'ÎÇôÏ≤úÏ†Å'],
                strengths: ['ÏÇ¨ÍµêÏÑ±', 'ÎÇôÍ¥ÄÏÑ±', 'Ï¶âÌù•ÏÑ±', 'ÌôúÎ†•'],
                weaknesses: ['Í≥ÑÌöçÏÑ± Î∂ÄÏ°±', 'ÏßëÏ§ëÎ†• Î∂ÄÏ°±', 'Í∞àÎì± ÌöåÌîº', 'Ïû•Í∏∞ Î™©Ìëú ÏïΩÌï®'],
                compatibility: ['ISFJ', 'ISTJ', 'ESTP']
            }
        };

        // Ïï± ÏÉÅÌÉú
        let currentPage = 'home';
        let currentQuestion = 0;
        let answers = [];
        let scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
        let isPremium = false;
        let adCountdown = 15;
        let isProcessing = false;

        // MBTI Í≥ÑÏÇ∞ (3Ï†ê Ï≤ôÎèÑ)
        function calculateMBTI(userAnswers) {
            scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };

            userAnswers.forEach((answer, index) => {
                const question = questions[index];
                const value = answer; // -1, 0, ÎòêÎäî 1

                if (question.axis === 'EI') {
                    if (value > 0) scores.E += value;
                    else if (value < 0) scores.I += Math.abs(value);
                } else if (question.axis === 'SN') {
                    if (value > 0) scores.N += value;
                    else if (value < 0) scores.S += Math.abs(value);
                } else if (question.axis === 'TF') {
                    if (value > 0) scores.T += value;
                    else if (value < 0) scores.F += Math.abs(value);
                } else if (question.axis === 'JP') {
                    if (value > 0) scores.J += value;
                    else if (value < 0) scores.P += Math.abs(value);
                }
            });

            const mbtiType = (
                (scores.E >= scores.I ? 'E' : 'I') +
                (scores.N >= scores.S ? 'N' : 'S') +
                (scores.T >= scores.F ? 'T' : 'F') +
                (scores.J >= scores.P ? 'J' : 'P')
            );

            return mbtiType;
        }

        // ÌçºÏÑºÌä∏ Í≥ÑÏÇ∞
        function getPercentages() {
            const total = {
                EI: scores.E + scores.I,
                SN: scores.S + scores.N,
                TF: scores.T + scores.F,
                JP: scores.J + scores.P
            };

            return {
                E: Math.round((scores.E / total.EI) * 100) || 50,
                I: Math.round((scores.I / total.EI) * 100) || 50,
                S: Math.round((scores.S / total.SN) * 100) || 50,
                N: Math.round((scores.N / total.SN) * 100) || 50,
                T: Math.round((scores.T / total.TF) * 100) || 50,
                F: Math.round((scores.F / total.TF) * 100) || 50,
                J: Math.round((scores.J / total.JP) * 100) || 50,
                P: Math.round((scores.P / total.JP) * 100) || 50
            };
        }

        // Í≤ΩÍ≥ÑÌòï ÌåêÏ†ï (15% Ïù¥ÎÇ¥ = 30% Î≤îÏúÑ)
        function isBorderline(type1Percent, type2Percent) {
            return Math.abs(type1Percent - type2Percent) <= 30;
        }

        // Î†åÎçî Ìï®ÏàòÎì§
        function renderHome() {
            return `
                <div class="glass-card">
                    <!-- Top Left Home Button -->
                    <div class="home-btn-wrapper">
                        <button class="cute-home-btn" onclick="location.href='https://moahub.co.kr'">
                            <span>üè†</span> ÌôàÏúºÎ°ú
                        </button>
                    </div>

                    <div class="home-header">
                        <span class="logo-emoji">üé®</span>
                        <h1 class="home-title">Í∑ÄÏó¨Ïö¥ MBTI</h1>
                        <p class="home-subtitle">ÎÇòÏùò ÏÑ±Í≤© Ïú†ÌòïÏùÑ Îçî Ï†ïÌôïÌïòÍ≤å ÏïåÏïÑÎ≥¥ÏÑ∏Ïöî!</p>
                    </div>

                    <div class="action-grid">
                        <!-- Main Start Button -->
                        <div class="action-card main-action" onclick="startTest()">
                            <div class="action-icon">‚ú®</div>
                            <div class="action-text">
                                <h3>MBTI ÌÖåÏä§Ìä∏ ÏãúÏûë</h3>
                                <p>Ï†ïÌôïÎèÑ ÎÜíÏùÄ 3Ï†ê Ï≤ôÎèÑ Î∂ÑÏÑù</p>
                            </div>
                        </div>

                        <!-- Feature Cards (Transparent) -->
                        <div class="action-card sub-action">
                             <div class="action-icon">‚ö°</div>
                             <div class="action-text">
                               <h3>Îπ†Î•∏ Í≤∞Í≥º</h3>
                               <p>25Î¨∏Ìï≠ÏúºÎ°ú 5Î∂Ñ ÏôÑÏÑ±</p>
                             </div>
                        </div>

                        <div class="action-card sub-action">
                             <div class="action-icon">üéØ</div>
                             <div class="action-text">
                               <h3>Ï†ïÎ∞Ä Î∂ÑÏÑù</h3>
                               <p>3Îã®Í≥Ñ ÎãµÎ≥Ä ÏãúÏä§ÌÖú</p>
                             </div>
                        </div>

                         <div class="action-card sub-action">
                             <div class="action-icon">üíï</div>
                             <div class="action-text">
                               <h3>Í∂ÅÌï© Î≥¥Í∏∞</h3>
                               <p>ÎÇòÏôÄ ÎßûÎäî Ïú†Ìòï</p>
                             </div>
                        </div>

                        <div class="action-card sub-action">
                             <div class="action-icon">üìñ</div>
                             <div class="action-text">
                               <h3>Ïú†Ìòï ÎèÑÍ∞ê</h3>
                               <p>16Í∞ÄÏßÄ ÏÑ±Í≤©</p>
                             </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderTest() {
            const question = questions[currentQuestion];
            const progress = ((currentQuestion + 1) / questions.length) * 100;

            return `
                <div class="card" data-question="${currentQuestion}">
                    <!-- Top Left Home Button -->
                    <div class="home-btn-wrapper">
                        <button class="cute-home-btn" onclick="location.href='index.html'; restart()">
                            <span>üè†</span> ÌôàÏúºÎ°ú
                        </button>
                    </div>

                    <div style="margin-top: 50px;">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${progress}%"></div>
                        </div>
                        <div class="progress-text">${currentQuestion + 1} / ${questions.length}</div>
                        
                        <div class="question-number">Q${currentQuestion + 1}</div>
                        <h2 class="question-text">${question.question}</h2>
                        
                        <div class="options-container">
                            ${question.options.map((option, index) => `
                                <button class="option-btn" data-index="${index}" onclick="selectAnswer(${option.value}, event)">
                                    <span class="option-emoji">${option.emoji}</span>
                                    <span>${option.text}</span>
                                </button>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
        }

        function renderResult() {
            const mbtiType = calculateMBTI(answers);
            const result = mbtiResults[mbtiType];

            if (!isPremium) {
                return renderBasicResult(mbtiType, result);
            } else {
                return renderPremiumResult(mbtiType, result);
            }
        }

        function renderBasicResult(mbtiType, result) {
            return `
                <div class="card">
                    <div class="basic-result">
                        <h1 class="result-announcement">üéâ ÎãπÏã†ÏùÄ...</h1>
                        <div class="result-type-badge" style="background: ${result.color}">
                            <span class="result-emoji">${result.emoji}</span>
                            <span class="result-type">${mbtiType}</span>
                        </div>
                        <h2 class="result-title">${result.title}</h2>
                        <p class="result-description">${result.description}</p>
                    </div>

                    <div class="unlock-section">
                        <h3 class="unlock-title">üîí Îçî ÏûêÏÑ∏Ìïú Í≤∞Í≥º Î≥¥Í∏∞</h3>
                        <p style="color: var(--text-light); margin-bottom: 20px;">
                            ÌîÑÎ¶¨ÎØ∏ÏóÑ Í≤∞Í≥ºÎ•º Î∞îÎ°ú ÌôïÏù∏ÌïòÏÑ∏Ïöî!
                        </p>
                        
                        <div class="unlock-features">
                            <div class="unlock-feature-item">
                                <span class="unlock-icon">üìä</span>
                                <div>
                                    <strong>ÏÑ±Ìñ• Î∂ÑÏÑù Í∑∏ÎûòÌîÑ</strong>
                                    <p style="font-size: 0.9rem; color: var(--text-light); margin: 0;">Í∞Å Ï∞®ÏõêÎ≥Ñ Ï†ïÌôïÌïú Ï†êÏàò ÌôïÏù∏</p>
                                </div>
                            </div>
                            <div class="unlock-feature-item">
                                <span class="unlock-icon">‚ú®</span>
                                <div>
                                    <strong>ÏÉÅÏÑ∏ ÌäπÏßï Î∂ÑÏÑù</strong>
                                    <p style="font-size: 0.9rem; color: var(--text-light); margin: 0;">ÎÇòÏùò ÏÑ±Í≤©ÏùÑ ÍπäÏù¥ ÏûàÍ≤å ÌååÏïÖ</p>
                                </div>
                            </div>
                            <div class="unlock-feature-item">
                                <span class="unlock-icon">üí™</span>
                                <div>
                                    <strong>Í∞ïÏ†ê & ÏïΩÏ†ê</strong>
                                    <p style="font-size: 0.9rem; color: var(--text-light); margin: 0;">ÎÇòÎ•º Î∞úÏ†ÑÏãúÌÇ§Îäî Î∞©Î≤ï</p>
                                </div>
                            </div>
                            <div class="unlock-feature-item">
                                <span class="unlock-icon">üíï</span>
                                <div>
                                    <strong>Í∂ÅÌï© Î∂ÑÏÑù</strong>
                                    <p style="font-size: 0.9rem; color: var(--text-light); margin: 0;">ÎÇòÏôÄ Ïûò ÎßûÎäî Ïú†Ìòï Ï∞æÍ∏∞</p>
                                </div>
                            </div>
                        </div>

                        <button class="premium-unlock-btn" onclick="unlockPremium()">
                            ÏÉÅÏÑ∏ Í≤∞Í≥º Î≥¥Í∏∞
                        </button>
                    </div>

                    <div class="action-buttons" style="margin-top: 40px;">
                        <button class="btn-secondary" onclick="shareResult('${mbtiType}')">
                            Í≥µÏú†ÌïòÍ∏∞ üîó
                        </button>
                        <button class="btn" onclick="restart()">
                            Îã§Ïãú ÌÖåÏä§Ìä∏ÌïòÍ∏∞ üîÑ
                        </button>
                    </div>
                </div>
            `;
        }

        function renderPremiumResult(mbtiType, result) {
            const percentages = getPercentages();

            const eiTypes = mbtiType[0] === 'E' ? ['E', 'I'] : ['I', 'E'];
            const snTypes = mbtiType[1] === 'S' ? ['S', 'N'] : ['N', 'S'];
            const tfTypes = mbtiType[2] === 'T' ? ['T', 'F'] : ['F', 'T'];
            const jpTypes = mbtiType[3] === 'J' ? ['J', 'P'] : ['P', 'J'];

            const borderlines = [];
            if (isBorderline(percentages[eiTypes[0]], percentages[eiTypes[1]])) borderlines.push('E/I');
            if (isBorderline(percentages[snTypes[0]], percentages[snTypes[1]])) borderlines.push('S/N');
            if (isBorderline(percentages[tfTypes[0]], percentages[tfTypes[1]])) borderlines.push('T/F');
            if (isBorderline(percentages[jpTypes[0]], percentages[jpTypes[1]])) borderlines.push('J/P');

            return `
                <div class="card">
                    <span class="premium-badge">‚ú® ÌîÑÎ¶¨ÎØ∏ÏóÑ Í≤∞Í≥º</span>
                    
                    <div class="result-header">
                        <h1 class="result-announcement">üéâ ÎãπÏã†ÏùÄ...</h1>
                        <div class="result-type-badge" style="background: ${result.color}">
                            <span class="result-emoji">${result.emoji}</span>
                            <span class="result-type">${result.type}</span>
                        </div>
                        ${borderlines.length > 0 ? `<span class="borderline-badge">Í≤ΩÍ≥ÑÌòï: ${borderlines.join(', ')}</span>` : ''}
                        <h2 class="result-title">${result.title}</h2>
                        <p class="result-description">${result.description}</p>
                    </div>

                    <div class="score-section">
                        <h3 class="section-title">üìä ÏÑ±Ìñ• Î∂ÑÏÑù</h3>
                        
                        <div class="score-item">
                            <div class="score-header">
                                <span>Ïô∏Ìñ•Ìòï(E)</span>
                                <span>ÎÇ¥Ìñ•Ìòï(I)</span>
                            </div>
                            <div class="score-bar-container">
                                <span class="score-label">${percentages.E}%</span>
                                <div class="score-bar">
                                    <div class="score-bar-fill" style="width: ${percentages.E}%">${percentages.E}%</div>
                                </div>
                                <span class="score-label">${percentages.I}%</span>
                            </div>
                        </div>

                        <div class="score-item">
                            <div class="score-header">
                                <span>Í∞êÍ∞ÅÌòï(S)</span>
                                <span>ÏßÅÍ¥ÄÌòï(N)</span>
                            </div>
                            <div class="score-bar-container">
                                <span class="score-label">${percentages.S}%</span>
                                <div class="score-bar">
                                    <div class="score-bar-fill" style="width: ${percentages.S}%">${percentages.S}%</div>
                                </div>
                                <span class="score-label">${percentages.N}%</span>
                            </div>
                        </div>

                        <div class="score-item">
                            <div class="score-header">
                                <span>ÏÇ¨Í≥†Ìòï(T)</span>
                                <span>Í∞êÏ†ïÌòï(F)</span>
                            </div>
                            <div class="score-bar-container">
                                <span class="score-label">${percentages.T}%</span>
                                <div class="score-bar">
                                    <div class="score-bar-fill" style="width: ${percentages.T}%">${percentages.T}%</div>
                                </div>
                                <span class="score-label">${percentages.F}%</span>
                            </div>
                        </div>

                        <div class="score-item">
                            <div class="score-header">
                                <span>ÌåêÎã®Ìòï(J)</span>
                                <span>Ïù∏ÏãùÌòï(P)</span>
                            </div>
                            <div class="score-bar-container">
                                <span class="score-label">${percentages.J}%</span>
                                <div class="score-bar">
                                    <div class="score-bar-fill" style="width: ${percentages.J}%">${percentages.J}%</div>
                                </div>
                                <span class="score-label">${percentages.P}%</span>
                            </div>
                        </div>
                    </div>

                    <div style="margin-bottom: 40px;">
                        <h3 class="section-title">‚ú® Ï£ºÏöî ÌäπÏßï</h3>
                        ${result.characteristics.map(char => `
                            <div class="characteristic-item">
                                <span class="check-icon">‚úì</span>
                                ${char}
                            </div>
                        `).join('')}
                    </div>

                    <div style="margin-bottom: 40px;">
                        <h3 class="section-title">üí™ Í∞ïÏ†ê</h3>
                        <div class="tags-container">
                            ${result.strengths.map(s => `
                                <span class="tag strength-tag">${s}</span>
                            `).join('')}
                        </div>
                    </div>

                    <div style="margin-bottom: 40px;">
                        <h3 class="section-title">üìå ÏïΩÏ†ê</h3>
                        <div class="tags-container">
                            ${result.weaknesses.map(w => `
                                <span class="tag weakness-tag">${w}</span>
                            `).join('')}
                        </div>
                    </div>

                    <div style="margin-bottom: 40px;">
                        <h3 class="section-title">üíï Ïûò ÎßûÎäî Ïú†Ìòï</h3>
                        ${result.compatibility.map(type => {
                const compatResult = mbtiResults[type];
                return `
                                <div class="compatibility-item">
                                    <span class="compat-emoji">${compatResult.emoji}</span>
                                    <span class="compat-type">${type}</span>
                                    <span class="compat-title">${compatResult.title}</span>
                                </div>
                            `;
            }).join('')}
                    </div>

                    <div class="action-buttons">
                        <button class="btn-secondary" onclick="shareResult('${mbtiType}')">
                            Í≥µÏú†ÌïòÍ∏∞ üîó
                        </button>
                        <button class="btn" onclick="restart()">
                            Îã§Ïãú ÌÖåÏä§Ìä∏ÌïòÍ∏∞ üîÑ
                        </button>
                    </div>
                </div>
            `;
        }

        function render() {
            const app = document.getElementById('app');

            // Safari Ï∫êÏã± ÏôÑÏ†Ñ Ï¥àÍ∏∞Ìôî - 1Ï∞®
            const oldButtons = document.querySelectorAll('.option-btn');
            oldButtons.forEach(btn => {
                btn.classList.remove('selected');
                btn.removeAttribute('style');
                btn.style.cssText = '';
                btn.blur();
            });

            // DOM ÏôÑÏ†Ñ Ï¥àÍ∏∞Ìôî
            app.innerHTML = '';
            void app.offsetWidth; // Î¶¨ÌîåÎ°úÏö∞ Í∞ïÏ†ú

            // ÏÉà DOM ÏÇΩÏûÖ
            app.innerHTML = `<div class="container">${currentPage === 'home' ? renderHome() :
                currentPage === 'test' ? renderTest() :
                    currentPage === 'ad' ? renderAdModal() :
                        renderResult()
                }</div>`;

            // Î†åÎçîÎßÅ ÌõÑ Î™®Îì† Î≤ÑÌäº Í∞ïÏ†ú Ï¥àÍ∏∞Ìôî - 2Ï∞® (Safari Ï†ÑÏö©)
            if (currentPage === 'test') {
                // Ï¶âÏãú Ï¥àÍ∏∞Ìôî
                requestAnimationFrame(() => {
                    const newButtons = document.querySelectorAll('.option-btn');
                    newButtons.forEach(btn => {
                        // ÌÅ¥ÎûòÏä§ Ï†úÍ±∞
                        btn.classList.remove('selected');

                        // Î™®Îì† Ïä§ÌÉÄÏùº Ï†úÍ±∞
                        btn.removeAttribute('style');
                        btn.style.cssText = '';

                        // Ï¥àÍ∏∞ ÏÉÅÌÉú Î™ÖÏãúÏ†Å ÏÑ§Ï†ï
                        btn.style.background = 'white';
                        btn.style.border = '3px solid #F0F0F0';
                        btn.style.transform = 'none';
                        btn.style.pointerEvents = 'auto';
                    });
                });

                // Ï∂îÍ∞Ä ÎîúÎ†àÏù¥ ÌõÑ Îã§Ïãú ÌïúÎ≤à ÌôïÏù∏
                setTimeout(() => {
                    const buttons = document.querySelectorAll('.option-btn');
                    buttons.forEach(btn => {
                        btn.classList.remove('selected');
                        btn.style.background = 'white';
                        btn.style.border = '3px solid #F0F0F0';
                        btn.style.transform = 'none';
                    });
                }, 50);
            }
        }

        function renderAdModal() {
            const progress = ((15 - adCountdown) / 15) * 100;

            return `
                <div class="ad-modal">
                    <div class="ad-content">
                        <div class="ad-title">üì∫ Í¥ëÍ≥† ÏãúÏ≤≠ Ï§ë...</div>
                        <p class="ad-description">
                            ${adCountdown > 0 ? 'Ïû†ÏãúÎßå Í∏∞Îã§Î†§Ï£ºÏÑ∏Ïöî!' : 'Í¥ëÍ≥† ÏãúÏ≤≠ ÏôÑÎ£å! üéâ'}
                        </p>
                        
                        ${adCountdown > 0 ? `
                            <div class="ad-countdown">${adCountdown}</div>
                            <div class="ad-progress-bar">
                                <div class="ad-progress-fill" style="width: ${progress}%"></div>
                            </div>
                            <p style="color: var(--text-light); font-size: 0.9rem;">
                                ÌîÑÎ¶¨ÎØ∏ÏóÑ Í≤∞Í≥ºÎ•º Ï§ÄÎπÑÌïòÍ≥† ÏûàÏäµÎãàÎã§...
                            </p>
                        ` : `
                            <div style="font-size: 4rem; margin: 30px 0;">‚úÖ</div>
                            <button class="btn" onclick="unlockPremium()">
                                ÌîÑÎ¶¨ÎØ∏ÏóÑ Í≤∞Í≥º Î≥¥Í∏∞ üéÅ
                            </button>
                        `}
                    </div>
                </div>
            `;
        }

        function showAdModal() {
            currentPage = 'ad';
            adCountdown = 15;
            render();
            startAdCountdown();
        }

        function startAdCountdown() {
            const interval = setInterval(() => {
                adCountdown--;

                const countdownEl = document.querySelector('.ad-countdown');
                const progressEl = document.querySelector('.ad-progress-fill');

                if (adCountdown > 0) {
                    if (countdownEl) countdownEl.textContent = adCountdown;
                    if (progressEl) {
                        const progress = ((15 - adCountdown) / 15) * 100;
                        progressEl.style.width = progress + '%';
                    }
                } else {
                    clearInterval(interval);
                    render();
                }
            }, 1000);
        }

        function unlockPremium() {
            isPremium = true;
            currentPage = 'result';
            render();
        }

        function startTest() {
            currentPage = 'test';
            currentQuestion = 0;
            answers = [];
            scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
            isProcessing = false;
            render();
        }

        function selectAnswer(value, event) {
            if (isProcessing) return;
            isProcessing = true;

            // ÏÑ†ÌÉù ÌîºÎìúÎ∞±
            if (event && event.currentTarget) {
                const btn = event.currentTarget;
                btn.classList.add('selected');
                btn.blur();
                btn.style.pointerEvents = 'none';
            }

            answers.push(value);

            setTimeout(() => {
                // Î™®Îì† Î≤ÑÌäº ÏÉÅÌÉú Í∞ïÏ†ú Ï¥àÍ∏∞Ìôî
                const allButtons = document.querySelectorAll('.option-btn');
                allButtons.forEach(b => {
                    // ÌÅ¥ÎûòÏä§ Ï†úÍ±∞
                    b.classList.remove('selected');

                    // Ïä§ÌÉÄÏùº ÏôÑÏ†Ñ Ï†úÍ±∞
                    b.removeAttribute('style');
                    b.style.cssText = '';

                    // Ï¥àÍ∏∞ ÏÉÅÌÉú Î™ÖÏãúÏ†Å ÏÑ§Ï†ï
                    b.style.background = 'white';
                    b.style.border = '3px solid #F0F0F0';
                    b.style.transform = 'none';
                    b.style.pointerEvents = 'auto';
                    b.blur();
                });

                if (currentQuestion < questions.length - 1) {
                    currentQuestion++;
                    render();
                    isProcessing = false;
                } else {
                    currentPage = 'result';
                    render();
                    isProcessing = false;
                }
            }, 150); // 150msÎ°ú Í∞êÏÜå - Îπ†Î•¥Í≥† ÏûêÏó∞Ïä§ÎüΩÍ≤å
        }

        function restart() {
            currentPage = 'home';
            currentQuestion = 0;
            answers = [];
            scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
            isPremium = false;
            adCountdown = 15;
            isProcessing = false;
            render();
        }

        function shareResult(mbtiType) {
            const result = mbtiResults[mbtiType];
            const percentages = getPercentages();
            const shareText = `ÎÇòÏùò MBTIÎäî ${result.type} - ${result.title}! ${result.emoji}

E/I: ${percentages[mbtiType[0]]}%
S/N: ${percentages[mbtiType[1]]}%
T/F: ${percentages[mbtiType[2]]}%
J/P: ${percentages[mbtiType[3]]}%

Í∑ÄÏó¨Ïö¥ MBTI ÌÖåÏä§Ìä∏ (3Ï†ê Ï≤ôÎèÑ Ï†ïÎ∞Ä Î≤ÑÏ†Ñ)`;

            if (navigator.share) {
                navigator.share({
                    title: 'Í∑ÄÏó¨Ïö¥ MBTI ÌÖåÏä§Ìä∏',
                    text: shareText
                }).catch(() => { });
            } else {
                navigator.clipboard.writeText(shareText);
                alert('Í≤∞Í≥ºÍ∞Ä ÌÅ¥Î¶ΩÎ≥¥ÎìúÏóê Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§! üéâ');
            }
        }

        // Safari bfcache Î∞©ÏßÄ
        window.addEventListener('pageshow', function (event) {
            if (event.persisted) {
                restart();
            }
        });

        window.addEventListener('load', function () {
            document.querySelectorAll('.option-btn').forEach(btn => {
                btn.classList.remove('selected');
                btn.removeAttribute('style');
                btn.style.cssText = '';
                btn.style.background = 'white';
                btn.style.border = '3px solid #F0F0F0';
                btn.style.transform = 'none';
                btn.blur();
            });
        });

        render();
    </script>
</body>

</html>